{"ast":null,"code":"import * as d3 from \"d3\";\n\n// M A P\nfunction BuildingMap() {\n  const color = \"#ffffff\";\n  let extent;\n  let pubActive = false;\n  let restaurantActive = false;\n  function me(selection) {\n    const buildingTypes = d3.groups(selection.datum().map(d => d.properties.buildingType), d => d).map(d => d[0]);\n    console.log(\"buildingTypes\", buildingTypes);\n    extent = {\n      type: \"GeometryCollection\",\n      geometries: selection.datum().map(d => d.geometry)\n    };\n    const projection = d3.geoIdentity().reflectY(true).fitSize([650, 650], extent);\n    const path = d3.geoPath().projection(projection);\n    selection.selectAll(\"path\").data(selection.datum()).join(\"path\").attr(\"d\", path).attr(\"fill\", color).style(\"stroke\", \"grey\");\n    if (pubActive) {\n      BuildingPub()(selection, extent);\n    }\n    if (restaurantActive) {\n      BuildingRestaurant()(selection, extent);\n    }\n  }\n  me.color = function () {\n    return color;\n  };\n  me.extent = function () {\n    return extent;\n  };\n  me.activatePub = function () {\n    pubActive = true;\n    restaurantActive = false;\n    return me;\n  };\n  me.activateRestaurant = function () {\n    restaurantActive = true;\n    pubActive = false;\n    return me;\n  };\n  return me;\n}\nfunction BuildingPub() {\n  const colorScale = d3.scaleThreshold().domain([8, 10, 12]).range([\"#f1f1f1\", \"#a6bddb\", \"#2b8cbe\", \"#045a8d\"]);\n  function me(selection, extent) {\n    const projection = d3.geoIdentity().reflectY(true).fitSize([650, 650], extent);\n    const tooltip = d3.select(\"body\").append(\"div\").attr(\"class\", \"tooltip\").style(\"opacity\", 0);\n\n    // Aggiungi un elemento SVG per la legenda\n    const legendSvg = selection.append(\"svg\").attr(\"width\", 1000) // Imposta la larghezza della legenda\n    .attr(\"height\", 50); // Imposta l'altezza della legenda\n\n    // Crea un array con i range di valori e i colori corrispondenti per la legenda\n    const legendData = [{\n      range: \"< $8,00\",\n      color: \"#f1f1f1\"\n    }, {\n      range: \"$8,00 - $9.99\",\n      color: \"#a6bddb\"\n    }, {\n      range: \"$10,00 - $12,00\",\n      color: \"#2b8cbe\"\n    }, {\n      range: \"> $12,00\",\n      color: \"#045a8d\"\n    }];\n\n    // Calcola la larghezza totale della legenda e la larghezza desiderata per ogni rettangolo\n    const legendWidth = 300; // Larghezza desiderata della legenda\n    const rectWidth = legendWidth / legendData.length; // Larghezza dei rettangoli della legenda\n    const offset = 350; // Spostamento verso destra\n\n    // Aggiungi i rettangoli colorati nella legenda\n    legendSvg.selectAll(\".legend-rect\").data(legendData).enter().append(\"rect\").attr(\"class\", \"legend-rect\").attr(\"x\", (d, i) => i * rectWidth + offset).attr(\"y\", 10).attr(\"width\", rectWidth).attr(\"height\", 15).attr(\"fill\", d => d.color);\n\n    // Aggiungi le etichette per i range di valori corrispondenti nella legenda\n    legendSvg.selectAll(\".legend-label\").data(legendData).enter().append(\"text\").attr(\"class\", \"legend-label\").attr(\"x\", (d, i) => i * rectWidth + rectWidth / 2 + offset).attr(\"y\", 40).text(d => d.range).attr(\"text-anchor\", \"middle\").style(\"font-size\", \"10px\"); // Riduci la dimensione del carattere delle etichette\n\n    selection.selectAll(\".pub\").data(selection.datum()).join(\"circle\").attr(\"class\", \"pub\").attr(\"cx\", d => projection(d.geometry.coordinates)[0]).attr(\"cy\", d => projection(d.geometry.coordinates)[1]).attr(\"r\", 10).attr(\"fill\", d => {\n      const hourlyCost = d.properties.hourlyCost;\n      if (hourlyCost < 8) {\n        return colorScale(0);\n      } else if (hourlyCost >= 8 && hourlyCost < 10) {\n        return colorScale(8);\n      } else if (hourlyCost >= 10 && hourlyCost <= 12) {\n        return colorScale(10);\n      } else {\n        return colorScale(12);\n      }\n    }).style(\"stroke\", \"black\").on(\"mouseover\", (event, d) => {\n      const hourlyCost = d.properties.hourlyCost;\n      tooltip.style(\"opacity\", 1).html(`Hourly cost: $ ${d3.format(\".2f\")(hourlyCost)}`).style(\"left\", event.pageX + \"px\").style(\"top\", event.pageY + \"px\");\n    }).on(\"mouseout\", () => {\n      tooltip.style(\"opacity\", 0);\n    });\n  }\n  return me;\n}\nfunction BuildingRestaurant() {\n  const colorScale = d3.scaleThreshold().domain([4.50, 5, 5.50]).range([\"#FFF5F0\", \"#FEB8A3\", \"#F768A1\", \"#AE017E\"]);\n  function me(selection, extent) {\n    const projection = d3.geoIdentity().reflectY(true).fitSize([650, 650], extent);\n    const tooltip = d3.select(\"body\").append(\"div\").attr(\"class\", \"tooltip\").style(\"opacity\", 0);\n\n    // Aggiungi un elemento SVG per la legenda\n    const legendSvg = selection.append(\"svg\").attr(\"width\", 1000) // Imposta la larghezza della legenda\n    .attr(\"height\", 50); // Imposta l'altezza della legenda\n\n    // Crea un array con i range di valori e i colori corrispondenti per la legenda\n    const legendData = [{\n      range: \"< $4,50\",\n      color: \"#FFF5F0\"\n    }, {\n      range: \"$4,50 - $4.99\",\n      color: \"#FEB8A3\"\n    }, {\n      range: \"$5,00 - $5,50\",\n      color: \"#F768A1\"\n    }, {\n      range: \"> $5,50\",\n      color: \"#AE017E\"\n    }];\n\n    // Calcola la larghezza totale della legenda e la larghezza desiderata per ogni rettangolo\n    const legendWidth = 300; // Larghezza desiderata della legenda\n    const rectWidth = legendWidth / legendData.length; // Larghezza dei rettangoli della legenda\n    const offset = 350; // Spostamento verso destra\n\n    // Aggiungi i rettangoli colorati nella legenda\n    legendSvg.selectAll(\".legend-rect\").data(legendData).enter().append(\"rect\").attr(\"class\", \"legend-rect\").attr(\"x\", (d, i) => i * rectWidth + offset).attr(\"y\", 10).attr(\"width\", rectWidth).attr(\"height\", 15).attr(\"fill\", d => d.color);\n\n    // Aggiungi le etichette per i range di valori corrispondenti nella legenda\n    legendSvg.selectAll(\".legend-label\").data(legendData).enter().append(\"text\").attr(\"class\", \"legend-label\").attr(\"x\", (d, i) => i * rectWidth + rectWidth / 2 + offset).attr(\"y\", 40).text(d => d.range).attr(\"text-anchor\", \"middle\").style(\"font-size\", \"10px\"); // Riduci la dimensione del carattere delle etichette\n\n    selection.selectAll(\".restaurant\").data(selection.datum()).join(\"circle\").attr(\"class\", \"restaurant\").attr(\"cx\", d => projection(d.geometry.coordinates)[0]).attr(\"cy\", d => projection(d.geometry.coordinates)[1]).attr(\"r\", 10).attr(\"fill\", d => {\n      const foodCost = d.properties.foodCost;\n      if (foodCost < 4.50) {\n        return colorScale(0);\n      } else if (foodCost >= 4.50 && foodCost < 5) {\n        return colorScale(4.50);\n      } else if (foodCost >= 5 && foodCost <= 5.50) {\n        return colorScale(5);\n      } else {\n        return colorScale(5.50);\n      }\n    }).style(\"stroke\", \"black\").on(\"mouseover\", (event, d) => {\n      const foodCost = d.properties.foodCost;\n      tooltip.style(\"opacity\", 1).html(`Food cost: $ ${d3.format(\".2f\")(foodCost)}`).style(\"left\", event.pageX + \"px\").style(\"top\", event.pageY + \"px\");\n    }).on(\"mouseout\", () => {\n      tooltip.style(\"opacity\", 0);\n    });\n  }\n  return me;\n}\nexport { BuildingMap, BuildingPub, BuildingRestaurant };\n\n// import * as d3 from \"d3\";\n\n// // M A P\n// function BuildingMap() {\n//   const color = \"#ffffff\";\n//   let extent;\n\n//   function me(selection) {\n//     const buildingTypes = d3\n//       .groups(selection.datum().map(d => d.properties.buildingType), d => d)\n//       .map(d => d[0]);\n//     console.log(\"buildingTypes\", buildingTypes);\n\n//     extent = {\n//       type: \"GeometryCollection\",\n//       geometries: selection.datum().map(d => d.geometry)\n//     };\n\n//     const projection = d3\n//       .geoIdentity()\n//       .reflectY(true)\n//       .fitSize([650, 650], extent);\n\n//     const path = d3.geoPath().projection(projection);\n\n//     selection\n//       .selectAll(\"path\")\n//       .data(selection.datum())\n//       .join(\"path\")\n//       .attr(\"d\", path)\n//       .attr(\"fill\", color)\n//       .style(\"stroke\", \"grey\");\n//   }\n\n//   me.color = function () {\n//     return color;\n//   };\n\n//   me.extent = function() {\n//     return extent\n//   };\n\n//   return me;\n// }\n// function BuildingPub() {\n//   const colorScale = d3.scaleThreshold()\n//     .domain([8, 10, 12])\n//     .range([\"#f1f1f1\", \"#a6bddb\", \"#2b8cbe\", \"#045a8d\"]);\n\n//   function me(selection, extent) {\n//     const projection = d3\n//       .geoIdentity()\n//       .reflectY(true)\n//       .fitSize([650, 650], extent);\n\n//     const tooltip = d3\n//       .select(\"body\")\n//       .append(\"div\")\n//       .attr(\"class\", \"tooltip\")\n//       .style(\"opacity\", 0);\n\n//     // Aggiungi un elemento SVG per la legenda\n//     const legendSvg = selection.append(\"svg\")\n//       .attr(\"width\", 1000) // Imposta la larghezza della legenda\n//       .attr(\"height\", 50); // Imposta l'altezza della legenda\n\n//     // Crea un array con i range di valori e i colori corrispondenti per la legenda\n//     const legendData = [\n//       { range: \"< $8,00\", color: \"#f1f1f1\" },\n//       { range: \"$8,00 - $9.99\", color: \"#a6bddb\" },\n//       { range: \"$10,00 - $12,00\", color: \"#2b8cbe\" },\n//       { range: \"> $12,00\", color: \"#045a8d\" }\n//     ];\n\n//     // Calcola la larghezza totale della legenda e la larghezza desiderata per ogni rettangolo\n//     const legendWidth = 300; // Larghezza desiderata della legenda\n//     const rectWidth = legendWidth / legendData.length; // Larghezza dei rettangoli della legenda\n//     const offset = 350; // Spostamento verso destra\n\n//     // Aggiungi i rettangoli colorati nella legenda\n//     legendSvg.selectAll(\".legend-rect\")\n//       .data(legendData)\n//       .enter()\n//       .append(\"rect\")\n//       .attr(\"class\", \"legend-rect\")\n//       .attr(\"x\", (d, i) => i * rectWidth + offset)\n//       .attr(\"y\", 10)\n//       .attr(\"width\", rectWidth)\n//       .attr(\"height\", 15)\n//       .attr(\"fill\", d => d.color);\n\n//     // Aggiungi le etichette per i range di valori corrispondenti nella legenda\n//     legendSvg.selectAll(\".legend-label\")\n//       .data(legendData)\n//       .enter()\n//       .append(\"text\")\n//       .attr(\"class\", \"legend-label\")\n//       .attr(\"x\", (d, i) => i * rectWidth + rectWidth / 2 + offset)\n//       .attr(\"y\", 40)\n//       .text(d => d.range)\n//       .attr(\"text-anchor\", \"middle\")\n//       .style(\"font-size\", \"10px\"); // Riduci la dimensione del carattere delle etichette\n\n//     selection\n//       .selectAll(\".pub\")\n//       .data(selection.datum())\n//       .join(\"circle\")\n//       .attr(\"class\", \"pub\")\n//       .attr(\"cx\", d => projection(d.geometry.coordinates)[0])\n//       .attr(\"cy\", d => projection(d.geometry.coordinates)[1])\n//       .attr(\"r\", 10)\n//       .attr(\"fill\", d => {\n//         const hourlyCost = d.properties.hourlyCost;\n//         if (hourlyCost < 8) {\n//           return colorScale(0);\n//         } else if (hourlyCost >= 8 && hourlyCost < 10) {\n//           return colorScale(8);\n//         } else if (hourlyCost >= 10 && hourlyCost <= 12) {\n//           return colorScale(10);\n//         } else {\n//           return colorScale(12);\n//         }\n//       })\n//       .style(\"stroke\", \"black\")\n//       .on(\"mouseover\", (event, d) => {\n//         const hourlyCost = d.properties.hourlyCost;\n//         tooltip\n//           .style(\"opacity\", 1)\n//           .html(`Hourly cost: $ ${d3.format(\".2f\")(hourlyCost)}`)\n//           .style(\"left\", event.pageX + \"px\")\n//           .style(\"top\", event.pageY + \"px\");\n//       })\n//       .on(\"mouseout\", () => {\n//         tooltip.style(\"opacity\", 0);\n//       });\n//   }\n\n//   return me;\n// }\n\n// function BuildingRestaurant() {\n//   const colorScale = d3.scaleThreshold()\n//     .domain([4.50, 5, 5.50])\n//     .range([\"#FFF5F0\", \"#FEB8A3\", \"#F768A1\", \"#AE017E\"]);\n\n//   function me(selection, extent) {\n\n//     const projection = d3\n//       .geoIdentity()\n//       .reflectY(true)\n//       .fitSize([650, 650], extent);\n\n//     const tooltip = d3\n//       .select(\"body\")\n//       .append(\"div\")\n//       .attr(\"class\", \"tooltip\")\n//       .style(\"opacity\", 0);\n\n//     // Aggiungi un elemento SVG per la legenda\n//     const legendSvg = selection.append(\"svg\")\n//       .attr(\"width\", 1000) // Imposta la larghezza della legenda\n//       .attr(\"height\", 50); // Imposta l'altezza della legenda\n\n//     // Crea un array con i range di valori e i colori corrispondenti per la legenda\n//     const legendData = [\n//       { range: \"< $4,50\", color: \"#FFF5F0\" },\n//       { range: \"$4,50 - $4.99\", color: \"#FEB8A3\" },\n//       { range: \"$5,00 - $5,50\", color: \"#F768A1\" },\n//       { range: \"> $5,50\", color: \"#AE017E\" }\n//     ];\n\n//     // Calcola la larghezza totale della legenda e la larghezza desiderata per ogni rettangolo\n//     const legendWidth = 300; // Larghezza desiderata della legenda\n//     const rectWidth = legendWidth / legendData.length; // Larghezza dei rettangoli della legenda\n//     const offset = 350; // Spostamento verso destra\n\n//     // Aggiungi i rettangoli colorati nella legenda\n//     legendSvg.selectAll(\".legend-rect\")\n//       .data(legendData)\n//       .enter()\n//       .append(\"rect\")\n//       .attr(\"class\", \"legend-rect\")\n//       .attr(\"x\", (d, i) => i * rectWidth + offset)\n//       .attr(\"y\", 10)\n//       .attr(\"width\", rectWidth)\n//       .attr(\"height\", 15)\n//       .attr(\"fill\", d => d.color);\n\n//     // Aggiungi le etichette per i range di valori corrispondenti nella legenda\n//     legendSvg.selectAll(\".legend-label\")\n//       .data(legendData)\n//       .enter()\n//       .append(\"text\")\n//       .attr(\"class\", \"legend-label\")\n//       .attr(\"x\", (d, i) => i * rectWidth + rectWidth / 2 + offset)\n//       .attr(\"y\", 40)\n//       .text(d => d.range)\n//       .attr(\"text-anchor\", \"middle\")\n//       .style(\"font-size\", \"10px\"); // Riduci la dimensione del carattere delle etichette\n\n//     selection\n//       .selectAll(\".restaurant\")\n//       .data(selection.datum())\n//       .join(\"circle\")\n//       .attr(\"class\", \"restaurant\")\n//       .attr(\"cx\", d => projection(d.geometry.coordinates)[0])\n//       .attr(\"cy\", d => projection(d.geometry.coordinates)[1])\n//       .attr(\"r\", 10)\n//       .attr(\"fill\", d => {\n//         const foodCost = d.properties.foodCost;\n//         if (foodCost < 4.50) {\n//           return colorScale(0);\n//         } else if (foodCost >= 4.50 && foodCost < 5) {\n//           return colorScale(4.50);\n//         } else if (foodCost >= 5 && foodCost <= 5.50) {\n//           return colorScale(5);\n//         } else {\n//           return colorScale(5.50);\n//         }\n//       })\n//       .style(\"stroke\", \"black\")\n//       .on(\"mouseover\", (event, d) => {\n//         const foodCost = d.properties.foodCost;\n//         tooltip\n//           .style(\"opacity\", 1)\n//           .html(`Food cost: $ ${d3.format(\".2f\")(foodCost)}`)\n//           .style(\"left\", event.pageX + \"px\")\n//           .style(\"top\", event.pageY + \"px\");\n//       })\n//       .on(\"mouseout\", () => {\n//         tooltip.style(\"opacity\", 0);\n//       });\n//   }\n\n//   return me;\n// }\n// export { BuildingMap, BuildingPub, BuildingRestaurant };","map":{"version":3,"names":["d3","BuildingMap","color","extent","pubActive","restaurantActive","me","selection","buildingTypes","groups","datum","map","d","properties","buildingType","console","log","type","geometries","geometry","projection","geoIdentity","reflectY","fitSize","path","geoPath","selectAll","data","join","attr","style","BuildingPub","BuildingRestaurant","activatePub","activateRestaurant","colorScale","scaleThreshold","domain","range","tooltip","select","append","legendSvg","legendData","legendWidth","rectWidth","length","offset","enter","i","text","coordinates","hourlyCost","on","event","html","format","pageX","pageY","foodCost"],"sources":["/Users/camillachiruzzi/vastprof/VAST2022Vue/src/assets/BusinessStatus.js"],"sourcesContent":["import * as d3 from \"d3\";\n\n// M A P\nfunction BuildingMap() {\n  const color = \"#ffffff\";\n  let extent;\n  let pubActive = false;\n  let restaurantActive = false;\n\n  function me(selection) {\n    const buildingTypes = d3\n      .groups(selection.datum().map(d => d.properties.buildingType), d => d)\n      .map(d => d[0]);\n    console.log(\"buildingTypes\", buildingTypes);\n\n    extent = {\n      type: \"GeometryCollection\",\n      geometries: selection.datum().map(d => d.geometry)\n    };\n\n    const projection = d3\n      .geoIdentity()\n      .reflectY(true)\n      .fitSize([650, 650], extent);\n\n    const path = d3.geoPath().projection(projection);\n\n    selection\n      .selectAll(\"path\")\n      .data(selection.datum())\n      .join(\"path\")\n      .attr(\"d\", path)\n      .attr(\"fill\", color)\n      .style(\"stroke\", \"grey\");\n\n    if (pubActive) {\n      BuildingPub()(selection, extent);\n    }\n\n    if (restaurantActive) {\n      BuildingRestaurant()(selection, extent);\n    }\n  }\n\n  me.color = function () {\n    return color;\n  };\n\n  me.extent = function() {\n    return extent;\n  };\n\n  me.activatePub = function() {\n    pubActive = true;\n    restaurantActive = false;\n    return me;\n  };\n\n  me.activateRestaurant = function() {\n    restaurantActive = true;\n    pubActive = false;\n    return me;\n  };\n\n  return me;\n}\nfunction BuildingPub() {\n  const colorScale = d3.scaleThreshold()\n    .domain([8, 10, 12])\n    .range([\"#f1f1f1\", \"#a6bddb\", \"#2b8cbe\", \"#045a8d\"]);\n\n  function me(selection, extent) {\n    const projection = d3\n      .geoIdentity()\n      .reflectY(true)\n      .fitSize([650, 650], extent);\n\n    const tooltip = d3\n      .select(\"body\")\n      .append(\"div\")\n      .attr(\"class\", \"tooltip\")\n      .style(\"opacity\", 0);\n\n    // Aggiungi un elemento SVG per la legenda\n    const legendSvg = selection.append(\"svg\")\n      .attr(\"width\", 1000) // Imposta la larghezza della legenda\n      .attr(\"height\", 50); // Imposta l'altezza della legenda\n\n    // Crea un array con i range di valori e i colori corrispondenti per la legenda\n    const legendData = [\n      { range: \"< $8,00\", color: \"#f1f1f1\" },\n      { range: \"$8,00 - $9.99\", color: \"#a6bddb\" },\n      { range: \"$10,00 - $12,00\", color: \"#2b8cbe\" },\n      { range: \"> $12,00\", color: \"#045a8d\" }\n    ];\n\n    // Calcola la larghezza totale della legenda e la larghezza desiderata per ogni rettangolo\n    const legendWidth = 300; // Larghezza desiderata della legenda\n    const rectWidth = legendWidth / legendData.length; // Larghezza dei rettangoli della legenda\n    const offset = 350; // Spostamento verso destra\n\n    // Aggiungi i rettangoli colorati nella legenda\n    legendSvg.selectAll(\".legend-rect\")\n      .data(legendData)\n      .enter()\n      .append(\"rect\")\n      .attr(\"class\", \"legend-rect\")\n      .attr(\"x\", (d, i) => i * rectWidth + offset)\n      .attr(\"y\", 10)\n      .attr(\"width\", rectWidth)\n      .attr(\"height\", 15)\n      .attr(\"fill\", d => d.color);\n\n    // Aggiungi le etichette per i range di valori corrispondenti nella legenda\n    legendSvg.selectAll(\".legend-label\")\n      .data(legendData)\n      .enter()\n      .append(\"text\")\n      .attr(\"class\", \"legend-label\")\n      .attr(\"x\", (d, i) => i * rectWidth + rectWidth / 2 + offset)\n      .attr(\"y\", 40)\n      .text(d => d.range)\n      .attr(\"text-anchor\", \"middle\")\n      .style(\"font-size\", \"10px\"); // Riduci la dimensione del carattere delle etichette\n\n\n    selection\n      .selectAll(\".pub\")\n      .data(selection.datum())\n      .join(\"circle\")\n      .attr(\"class\", \"pub\")\n      .attr(\"cx\", d => projection(d.geometry.coordinates)[0])\n      .attr(\"cy\", d => projection(d.geometry.coordinates)[1])\n      .attr(\"r\", 10)\n      .attr(\"fill\", d => {\n        const hourlyCost = d.properties.hourlyCost;\n        if (hourlyCost < 8) {\n          return colorScale(0);\n        } else if (hourlyCost >= 8 && hourlyCost < 10) {\n          return colorScale(8);\n        } else if (hourlyCost >= 10 && hourlyCost <= 12) {\n          return colorScale(10);\n        } else {\n          return colorScale(12);\n        }\n      })\n      .style(\"stroke\", \"black\")\n      .on(\"mouseover\", (event, d) => {\n        const hourlyCost = d.properties.hourlyCost;\n        tooltip\n          .style(\"opacity\", 1)\n          .html(`Hourly cost: $ ${d3.format(\".2f\")(hourlyCost)}`)\n          .style(\"left\", event.pageX + \"px\")\n          .style(\"top\", event.pageY + \"px\");\n      })\n      .on(\"mouseout\", () => {\n        tooltip.style(\"opacity\", 0);\n      });\n  }\n\n  return me;\n}\n\nfunction BuildingRestaurant() {\n  const colorScale = d3.scaleThreshold()\n    .domain([4.50, 5, 5.50])\n    .range([\"#FFF5F0\", \"#FEB8A3\", \"#F768A1\", \"#AE017E\"]);\n\n  function me(selection, extent) {\n\n    const projection = d3\n      .geoIdentity()\n      .reflectY(true)\n      .fitSize([650, 650], extent);\n\n    const tooltip = d3\n      .select(\"body\")\n      .append(\"div\")\n      .attr(\"class\", \"tooltip\")\n      .style(\"opacity\", 0);\n\n    // Aggiungi un elemento SVG per la legenda\n    const legendSvg = selection.append(\"svg\")\n      .attr(\"width\", 1000) // Imposta la larghezza della legenda\n      .attr(\"height\", 50); // Imposta l'altezza della legenda\n\n    // Crea un array con i range di valori e i colori corrispondenti per la legenda\n    const legendData = [\n      { range: \"< $4,50\", color: \"#FFF5F0\" },\n      { range: \"$4,50 - $4.99\", color: \"#FEB8A3\" },\n      { range: \"$5,00 - $5,50\", color: \"#F768A1\" },\n      { range: \"> $5,50\", color: \"#AE017E\" }\n    ];\n\n    // Calcola la larghezza totale della legenda e la larghezza desiderata per ogni rettangolo\n    const legendWidth = 300; // Larghezza desiderata della legenda\n    const rectWidth = legendWidth / legendData.length; // Larghezza dei rettangoli della legenda\n    const offset = 350; // Spostamento verso destra\n\n    // Aggiungi i rettangoli colorati nella legenda\n    legendSvg.selectAll(\".legend-rect\")\n      .data(legendData)\n      .enter()\n      .append(\"rect\")\n      .attr(\"class\", \"legend-rect\")\n      .attr(\"x\", (d, i) => i * rectWidth + offset)\n      .attr(\"y\", 10)\n      .attr(\"width\", rectWidth)\n      .attr(\"height\", 15)\n      .attr(\"fill\", d => d.color);\n\n    // Aggiungi le etichette per i range di valori corrispondenti nella legenda\n    legendSvg.selectAll(\".legend-label\")\n      .data(legendData)\n      .enter()\n      .append(\"text\")\n      .attr(\"class\", \"legend-label\")\n      .attr(\"x\", (d, i) => i * rectWidth + rectWidth / 2 + offset)\n      .attr(\"y\", 40)\n      .text(d => d.range)\n      .attr(\"text-anchor\", \"middle\")\n      .style(\"font-size\", \"10px\"); // Riduci la dimensione del carattere delle etichette\n\n\n    selection\n      .selectAll(\".restaurant\")\n      .data(selection.datum())\n      .join(\"circle\")\n      .attr(\"class\", \"restaurant\")\n      .attr(\"cx\", d => projection(d.geometry.coordinates)[0])\n      .attr(\"cy\", d => projection(d.geometry.coordinates)[1])\n      .attr(\"r\", 10)\n      .attr(\"fill\", d => {\n        const foodCost = d.properties.foodCost;\n        if (foodCost < 4.50) {\n          return colorScale(0);\n        } else if (foodCost >= 4.50 && foodCost < 5) {\n          return colorScale(4.50);\n        } else if (foodCost >= 5 && foodCost <= 5.50) {\n          return colorScale(5);\n        } else {\n          return colorScale(5.50);\n        }\n      })\n      .style(\"stroke\", \"black\")\n      .on(\"mouseover\", (event, d) => {\n        const foodCost = d.properties.foodCost;\n        tooltip\n          .style(\"opacity\", 1)\n          .html(`Food cost: $ ${d3.format(\".2f\")(foodCost)}`)\n          .style(\"left\", event.pageX + \"px\")\n          .style(\"top\", event.pageY + \"px\");\n      })\n      .on(\"mouseout\", () => {\n        tooltip.style(\"opacity\", 0);\n      });\n  }\n\n  return me;\n}\n\n\nexport { BuildingMap, BuildingPub, BuildingRestaurant };\n\n\n\n// import * as d3 from \"d3\";\n\n// // M A P\n// function BuildingMap() {\n//   const color = \"#ffffff\";\n//   let extent;\n\n//   function me(selection) {\n//     const buildingTypes = d3\n//       .groups(selection.datum().map(d => d.properties.buildingType), d => d)\n//       .map(d => d[0]);\n//     console.log(\"buildingTypes\", buildingTypes);\n\n//     extent = {\n//       type: \"GeometryCollection\",\n//       geometries: selection.datum().map(d => d.geometry)\n//     };\n\n//     const projection = d3\n//       .geoIdentity()\n//       .reflectY(true)\n//       .fitSize([650, 650], extent);\n\n//     const path = d3.geoPath().projection(projection);\n\n//     selection\n//       .selectAll(\"path\")\n//       .data(selection.datum())\n//       .join(\"path\")\n//       .attr(\"d\", path)\n//       .attr(\"fill\", color)\n//       .style(\"stroke\", \"grey\");\n//   }\n\n//   me.color = function () {\n//     return color;\n//   };\n\n//   me.extent = function() {\n//     return extent\n//   };\n\n//   return me;\n// }\n// function BuildingPub() {\n//   const colorScale = d3.scaleThreshold()\n//     .domain([8, 10, 12])\n//     .range([\"#f1f1f1\", \"#a6bddb\", \"#2b8cbe\", \"#045a8d\"]);\n\n//   function me(selection, extent) {\n//     const projection = d3\n//       .geoIdentity()\n//       .reflectY(true)\n//       .fitSize([650, 650], extent);\n\n//     const tooltip = d3\n//       .select(\"body\")\n//       .append(\"div\")\n//       .attr(\"class\", \"tooltip\")\n//       .style(\"opacity\", 0);\n\n//     // Aggiungi un elemento SVG per la legenda\n//     const legendSvg = selection.append(\"svg\")\n//       .attr(\"width\", 1000) // Imposta la larghezza della legenda\n//       .attr(\"height\", 50); // Imposta l'altezza della legenda\n\n//     // Crea un array con i range di valori e i colori corrispondenti per la legenda\n//     const legendData = [\n//       { range: \"< $8,00\", color: \"#f1f1f1\" },\n//       { range: \"$8,00 - $9.99\", color: \"#a6bddb\" },\n//       { range: \"$10,00 - $12,00\", color: \"#2b8cbe\" },\n//       { range: \"> $12,00\", color: \"#045a8d\" }\n//     ];\n\n//     // Calcola la larghezza totale della legenda e la larghezza desiderata per ogni rettangolo\n//     const legendWidth = 300; // Larghezza desiderata della legenda\n//     const rectWidth = legendWidth / legendData.length; // Larghezza dei rettangoli della legenda\n//     const offset = 350; // Spostamento verso destra\n\n//     // Aggiungi i rettangoli colorati nella legenda\n//     legendSvg.selectAll(\".legend-rect\")\n//       .data(legendData)\n//       .enter()\n//       .append(\"rect\")\n//       .attr(\"class\", \"legend-rect\")\n//       .attr(\"x\", (d, i) => i * rectWidth + offset)\n//       .attr(\"y\", 10)\n//       .attr(\"width\", rectWidth)\n//       .attr(\"height\", 15)\n//       .attr(\"fill\", d => d.color);\n\n//     // Aggiungi le etichette per i range di valori corrispondenti nella legenda\n//     legendSvg.selectAll(\".legend-label\")\n//       .data(legendData)\n//       .enter()\n//       .append(\"text\")\n//       .attr(\"class\", \"legend-label\")\n//       .attr(\"x\", (d, i) => i * rectWidth + rectWidth / 2 + offset)\n//       .attr(\"y\", 40)\n//       .text(d => d.range)\n//       .attr(\"text-anchor\", \"middle\")\n//       .style(\"font-size\", \"10px\"); // Riduci la dimensione del carattere delle etichette\n\n\n//     selection\n//       .selectAll(\".pub\")\n//       .data(selection.datum())\n//       .join(\"circle\")\n//       .attr(\"class\", \"pub\")\n//       .attr(\"cx\", d => projection(d.geometry.coordinates)[0])\n//       .attr(\"cy\", d => projection(d.geometry.coordinates)[1])\n//       .attr(\"r\", 10)\n//       .attr(\"fill\", d => {\n//         const hourlyCost = d.properties.hourlyCost;\n//         if (hourlyCost < 8) {\n//           return colorScale(0);\n//         } else if (hourlyCost >= 8 && hourlyCost < 10) {\n//           return colorScale(8);\n//         } else if (hourlyCost >= 10 && hourlyCost <= 12) {\n//           return colorScale(10);\n//         } else {\n//           return colorScale(12);\n//         }\n//       })\n//       .style(\"stroke\", \"black\")\n//       .on(\"mouseover\", (event, d) => {\n//         const hourlyCost = d.properties.hourlyCost;\n//         tooltip\n//           .style(\"opacity\", 1)\n//           .html(`Hourly cost: $ ${d3.format(\".2f\")(hourlyCost)}`)\n//           .style(\"left\", event.pageX + \"px\")\n//           .style(\"top\", event.pageY + \"px\");\n//       })\n//       .on(\"mouseout\", () => {\n//         tooltip.style(\"opacity\", 0);\n//       });\n//   }\n\n//   return me;\n// }\n\n// function BuildingRestaurant() {\n//   const colorScale = d3.scaleThreshold()\n//     .domain([4.50, 5, 5.50])\n//     .range([\"#FFF5F0\", \"#FEB8A3\", \"#F768A1\", \"#AE017E\"]);\n\n//   function me(selection, extent) {\n\n//     const projection = d3\n//       .geoIdentity()\n//       .reflectY(true)\n//       .fitSize([650, 650], extent);\n\n//     const tooltip = d3\n//       .select(\"body\")\n//       .append(\"div\")\n//       .attr(\"class\", \"tooltip\")\n//       .style(\"opacity\", 0);\n\n//     // Aggiungi un elemento SVG per la legenda\n//     const legendSvg = selection.append(\"svg\")\n//       .attr(\"width\", 1000) // Imposta la larghezza della legenda\n//       .attr(\"height\", 50); // Imposta l'altezza della legenda\n\n//     // Crea un array con i range di valori e i colori corrispondenti per la legenda\n//     const legendData = [\n//       { range: \"< $4,50\", color: \"#FFF5F0\" },\n//       { range: \"$4,50 - $4.99\", color: \"#FEB8A3\" },\n//       { range: \"$5,00 - $5,50\", color: \"#F768A1\" },\n//       { range: \"> $5,50\", color: \"#AE017E\" }\n//     ];\n\n//     // Calcola la larghezza totale della legenda e la larghezza desiderata per ogni rettangolo\n//     const legendWidth = 300; // Larghezza desiderata della legenda\n//     const rectWidth = legendWidth / legendData.length; // Larghezza dei rettangoli della legenda\n//     const offset = 350; // Spostamento verso destra\n\n//     // Aggiungi i rettangoli colorati nella legenda\n//     legendSvg.selectAll(\".legend-rect\")\n//       .data(legendData)\n//       .enter()\n//       .append(\"rect\")\n//       .attr(\"class\", \"legend-rect\")\n//       .attr(\"x\", (d, i) => i * rectWidth + offset)\n//       .attr(\"y\", 10)\n//       .attr(\"width\", rectWidth)\n//       .attr(\"height\", 15)\n//       .attr(\"fill\", d => d.color);\n\n//     // Aggiungi le etichette per i range di valori corrispondenti nella legenda\n//     legendSvg.selectAll(\".legend-label\")\n//       .data(legendData)\n//       .enter()\n//       .append(\"text\")\n//       .attr(\"class\", \"legend-label\")\n//       .attr(\"x\", (d, i) => i * rectWidth + rectWidth / 2 + offset)\n//       .attr(\"y\", 40)\n//       .text(d => d.range)\n//       .attr(\"text-anchor\", \"middle\")\n//       .style(\"font-size\", \"10px\"); // Riduci la dimensione del carattere delle etichette\n\n\n//     selection\n//       .selectAll(\".restaurant\")\n//       .data(selection.datum())\n//       .join(\"circle\")\n//       .attr(\"class\", \"restaurant\")\n//       .attr(\"cx\", d => projection(d.geometry.coordinates)[0])\n//       .attr(\"cy\", d => projection(d.geometry.coordinates)[1])\n//       .attr(\"r\", 10)\n//       .attr(\"fill\", d => {\n//         const foodCost = d.properties.foodCost;\n//         if (foodCost < 4.50) {\n//           return colorScale(0);\n//         } else if (foodCost >= 4.50 && foodCost < 5) {\n//           return colorScale(4.50);\n//         } else if (foodCost >= 5 && foodCost <= 5.50) {\n//           return colorScale(5);\n//         } else {\n//           return colorScale(5.50);\n//         }\n//       })\n//       .style(\"stroke\", \"black\")\n//       .on(\"mouseover\", (event, d) => {\n//         const foodCost = d.properties.foodCost;\n//         tooltip\n//           .style(\"opacity\", 1)\n//           .html(`Food cost: $ ${d3.format(\".2f\")(foodCost)}`)\n//           .style(\"left\", event.pageX + \"px\")\n//           .style(\"top\", event.pageY + \"px\");\n//       })\n//       .on(\"mouseout\", () => {\n//         tooltip.style(\"opacity\", 0);\n//       });\n//   }\n\n//   return me;\n// }\n// export { BuildingMap, BuildingPub, BuildingRestaurant };\n"],"mappings":"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A;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}