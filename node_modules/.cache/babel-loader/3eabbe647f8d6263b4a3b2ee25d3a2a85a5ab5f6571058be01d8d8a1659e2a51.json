{"ast":null,"code":"import * as d3 from 'd3';\nexport function TrafficPlot(data) {\n  const parsedData = data.map(d => {\n    const startDate = new Date(d.travelStartTime);\n    const endDate = new Date(d.travelEndTime);\n    const travelTime = (endDate - startDate) / (1000 * 60);\n    return {\n      startDate,\n      endDate,\n      travelTime\n    };\n  });\n  const weekStart = new Date(parsedData[0].startDate.getFullYear(), parsedData[0].startDate.getMonth(), parsedData[0].startDate.getDate() - parsedData[0].startDate.getDay());\n  const weekEnd = new Date(parsedData[parsedData.length - 1].startDate.getFullYear(), parsedData[parsedData.length - 1].startDate.getMonth(), parsedData[parsedData.length - 1].startDate.getDate() + 6);\n  const totalWeeks = Math.ceil((weekEnd - weekStart) / (1000 * 60 * 60 * 24 * 7));\n  this.totalWeeks = totalWeeks;\n  this.weekStart = weekStart;\n  const margin = {\n    top: 20,\n    right: 20,\n    bottom: 30,\n    left: 40\n  };\n  const width = 800 - margin.left - margin.right;\n  const height = 400 - margin.top - margin.bottom;\n  const svg = d3.select('#chartContainer').append(\"svg\").attr(\"width\", width + margin.left + margin.right).attr(\"height\", height + margin.top + margin.bottom);\n  this.chart = svg.append(\"g\").attr(\"transform\", `translate(${margin.left},${margin.top})`);\n}","map":{"version":3,"names":["d3","TrafficPlot","data","parsedData","map","d","startDate","Date","travelStartTime","endDate","travelEndTime","travelTime","weekStart","getFullYear","getMonth","getDate","getDay","weekEnd","length","totalWeeks","Math","ceil","margin","top","right","bottom","left","width","height","svg","select","append","attr","chart"],"sources":["/Users/camillachiruzzi/vastprof/VAST2022Vue/src/assets/TrafficPlot.js"],"sourcesContent":["import * as d3 from 'd3';\n\nexport function TrafficPlot(data) {\n    const parsedData = data.map((d) => {\n      const startDate = new Date(d.travelStartTime);\n      const endDate = new Date(d.travelEndTime);\n      const travelTime = (endDate - startDate) / (1000 * 60);\n      return { startDate, endDate, travelTime };\n    });\n\n    const weekStart = new Date(parsedData[0].startDate.getFullYear(), parsedData[0].startDate.getMonth(), parsedData[0].startDate.getDate() - parsedData[0].startDate.getDay());\n    const weekEnd = new Date(parsedData[parsedData.length - 1].startDate.getFullYear(), parsedData[parsedData.length - 1].startDate.getMonth(), parsedData[parsedData.length - 1].startDate.getDate() + 6);\n    const totalWeeks = Math.ceil((weekEnd - weekStart) / (1000 * 60 * 60 * 24 * 7));\n    this.totalWeeks = totalWeeks;\n    this.weekStart = weekStart;\n\n    const margin = { top: 20, right: 20, bottom: 30, left: 40 };\n    const width = 800 - margin.left - margin.right;\n    const height = 400 - margin.top - margin.bottom;\n\n    const svg = d3\n      .select('#chartContainer')\n      .append(\"svg\")\n      .attr(\"width\", width + margin.left + margin.right)\n      .attr(\"height\", height + margin.top + margin.bottom);\n\n    this.chart = svg.append(\"g\").attr(\"transform\", `translate(${margin.left},${margin.top})`);\n\n\n}\n\n"],"mappings":"AAAA,OAAO,KAAKA,EAAE,MAAM,IAAI;AAExB,OAAO,SAASC,WAAWA,CAACC,IAAI,EAAE;EAC9B,MAAMC,UAAU,GAAGD,IAAI,CAACE,GAAG,CAAEC,CAAC,IAAK;IACjC,MAAMC,SAAS,GAAG,IAAIC,IAAI,CAACF,CAAC,CAACG,eAAe,CAAC;IAC7C,MAAMC,OAAO,GAAG,IAAIF,IAAI,CAACF,CAAC,CAACK,aAAa,CAAC;IACzC,MAAMC,UAAU,GAAG,CAACF,OAAO,GAAGH,SAAS,KAAK,IAAI,GAAG,EAAE,CAAC;IACtD,OAAO;MAAEA,SAAS;MAAEG,OAAO;MAAEE;IAAW,CAAC;EAC3C,CAAC,CAAC;EAEF,MAAMC,SAAS,GAAG,IAAIL,IAAI,CAACJ,UAAU,CAAC,CAAC,CAAC,CAACG,SAAS,CAACO,WAAW,CAAC,CAAC,EAAEV,UAAU,CAAC,CAAC,CAAC,CAACG,SAAS,CAACQ,QAAQ,CAAC,CAAC,EAAEX,UAAU,CAAC,CAAC,CAAC,CAACG,SAAS,CAACS,OAAO,CAAC,CAAC,GAAGZ,UAAU,CAAC,CAAC,CAAC,CAACG,SAAS,CAACU,MAAM,CAAC,CAAC,CAAC;EAC3K,MAAMC,OAAO,GAAG,IAAIV,IAAI,CAACJ,UAAU,CAACA,UAAU,CAACe,MAAM,GAAG,CAAC,CAAC,CAACZ,SAAS,CAACO,WAAW,CAAC,CAAC,EAAEV,UAAU,CAACA,UAAU,CAACe,MAAM,GAAG,CAAC,CAAC,CAACZ,SAAS,CAACQ,QAAQ,CAAC,CAAC,EAAEX,UAAU,CAACA,UAAU,CAACe,MAAM,GAAG,CAAC,CAAC,CAACZ,SAAS,CAACS,OAAO,CAAC,CAAC,GAAG,CAAC,CAAC;EACtM,MAAMI,UAAU,GAAGC,IAAI,CAACC,IAAI,CAAC,CAACJ,OAAO,GAAGL,SAAS,KAAK,IAAI,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC,CAAC,CAAC;EAC/E,IAAI,CAACO,UAAU,GAAGA,UAAU;EAC5B,IAAI,CAACP,SAAS,GAAGA,SAAS;EAE1B,MAAMU,MAAM,GAAG;IAAEC,GAAG,EAAE,EAAE;IAAEC,KAAK,EAAE,EAAE;IAAEC,MAAM,EAAE,EAAE;IAAEC,IAAI,EAAE;EAAG,CAAC;EAC3D,MAAMC,KAAK,GAAG,GAAG,GAAGL,MAAM,CAACI,IAAI,GAAGJ,MAAM,CAACE,KAAK;EAC9C,MAAMI,MAAM,GAAG,GAAG,GAAGN,MAAM,CAACC,GAAG,GAAGD,MAAM,CAACG,MAAM;EAE/C,MAAMI,GAAG,GAAG7B,EAAE,CACX8B,MAAM,CAAC,iBAAiB,CAAC,CACzBC,MAAM,CAAC,KAAK,CAAC,CACbC,IAAI,CAAC,OAAO,EAAEL,KAAK,GAAGL,MAAM,CAACI,IAAI,GAAGJ,MAAM,CAACE,KAAK,CAAC,CACjDQ,IAAI,CAAC,QAAQ,EAAEJ,MAAM,GAAGN,MAAM,CAACC,GAAG,GAAGD,MAAM,CAACG,MAAM,CAAC;EAEtD,IAAI,CAACQ,KAAK,GAAGJ,GAAG,CAACE,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC,WAAW,EAAG,aAAYV,MAAM,CAACI,IAAK,IAAGJ,MAAM,CAACC,GAAI,GAAE,CAAC;AAG7F"},"metadata":{},"sourceType":"module","externalDependencies":[]}