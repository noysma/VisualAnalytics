{"ast":null,"code":"import * as d3 from 'd3';\nexport function createScatterplot(svgElement, tooltipElement, data) {\n  // set the dimensions and margins of the graph\n  const margin = {\n    top: 10,\n    right: 30,\n    bottom: 30,\n    left: 60\n  };\n  const width = 700 - margin.left - margin.right;\n  const height = 500 - margin.top - margin.bottom;\n\n  // append the svg object to the component element\n  const svg = d3.select(svgElement).attr('width', width + margin.left + margin.right).attr('height', height + margin.top + margin.bottom).append('g').attr('transform', `translate(${margin.left}, ${margin.top})`);\n\n  // Creazione della scala X\n  const x = d3.scaleLinear().domain([0, d3.max(data, d => +d.hourlyRate) + 10]).range([0, width]);\n\n  // Creazione della scala Y\n  const y = d3.scaleLinear().domain([0, d3.max(data, d => +d.counts) + 5]).range([height, 0]);\n\n  // Creazione dell'asse X\n  const xAxis = d3.axisBottom(x).tickValues(d3.range(0, d3.max(data, d => +d.hourlyRate) + 11, 10));\n  svg.append('g').attr('transform', `translate(0, ${height})`).call(xAxis);\n\n  // Creazione dell'asse Y\n  const yAxis = d3.axisLeft(y).tickValues(d3.range(0, d3.max(data, d => +d.counts) + 6, 5));\n  svg.append('g').call(yAxis);\n\n  // Aggiunta dei punti\n  svg.selectAll('circle').data(data).enter().append('circle').attr('cx', d => x(+d.hourlyRate)).attr('cy', d => y(+d.counts)).attr('r', 5).style('fill', 'gray').style('stroke', 'darkgray').on('mouseover', function (event, d) {\n    // Evidenzia il pallino\n    d3.select(this).style('fill', 'red');\n\n    // Mostra il tooltip con le informazioni del punto\n    const tooltip = d3.select(tooltipElement);\n    tooltip.transition().duration(200).style('opacity', 1);\n    const svgRect = svgElement.getBoundingClientRect();\n    const containerRect = tooltipElement.getBoundingClientRect();\n    const xPosition = event.clientX - svgRect.left - containerRect.width / 2 + window.pageXOffset;\n    const yPosition = event.clientY - svgRect.top - containerRect.height - 10 + window.pageYOffset;\n    tooltip.html(`Job ID: ${d.jobId}<br>Turnover: ${d.counts}<br>Hourly wage: ${d.hourlyRate}`).style('left', `${xPosition}px`).style('top', `${yPosition}px`);\n\n    // Aggiungi le linee tratteggiate\n    svg.append('line').attr('x1', x(+d.hourlyRate)).attr('y1', height).attr('x2', x(+d.hourlyRate)).attr('y2', y(+d.counts)).style('stroke', 'black').style('stroke-dasharray', '2,2');\n    svg.append('line').attr('x1', 0).attr('y1', y(+d.counts)).attr('x2', x(+d.hourlyRate)).attr('y2', y(+d.counts)).style('stroke', 'gray').style('stroke-dasharray', '2,2');\n  }).on('mouseout', function () {\n    // Ripristina il colore grigio per il pallino\n    d3.select(this).style('fill', 'gray');\n\n    // Nascondi il tooltip\n    const tooltip = d3.select(tooltipElement);\n    tooltip.transition().duration(500).style('opacity', 0);\n\n    // Rimuovi le linee tratteggiate\n    svg.selectAll('line').remove();\n  });\n\n  // Aggiungi lo stile al tooltip\n  const tooltipStyle = `\n    .tooltipTurnover {\n      position: absolute;\n      background-color: white;\n      border: 1px solid #ddd;\n      border-radius: 4px;\n      padding: 6px;\n      opacity: 0;\n      pointer-events: none;\n      z-index: 9999;\n    }\n    \n    .tooltipTurnover::before {\n      content: '';\n      position: absolute;\n      width: 10px;\n      height: 10px;\n      border-left: 6px solid transparent;\n      border-right: 6px solid transparent;\n      border-bottom: 6px solid #ddd;\n      top: -6px;\n      left: 50%;\n      transform: translateX(-50%);\n    }\n  `;\n  const style = document.createElement('style');\n  style.innerHTML = tooltipStyle;\n  document.head.appendChild(style);\n}","map":{"version":3,"names":["d3","createScatterplot","svgElement","tooltipElement","data","margin","top","right","bottom","left","width","height","svg","select","attr","append","x","scaleLinear","domain","max","d","hourlyRate","range","y","counts","xAxis","axisBottom","tickValues","call","yAxis","axisLeft","selectAll","enter","style","on","event","tooltip","transition","duration","svgRect","getBoundingClientRect","containerRect","xPosition","clientX","window","pageXOffset","yPosition","clientY","pageYOffset","html","jobId","remove","tooltipStyle","document","createElement","innerHTML","head","appendChild"],"sources":["/Users/camillachiruzzi/vastprof/VAST2022Vue/src/assets/Turnover.js"],"sourcesContent":["import * as d3 from 'd3';\n\nexport function createScatterplot(svgElement, tooltipElement, data) {\n  // set the dimensions and margins of the graph\n  const margin = { top: 10, right: 30, bottom: 30, left: 60 };\n  const width = 700 - margin.left - margin.right;\n  const height = 500 - margin.top - margin.bottom;\n\n  // append the svg object to the component element\n  const svg = d3.select(svgElement)\n    .attr('width', width + margin.left + margin.right)\n    .attr('height', height + margin.top + margin.bottom)\n    .append('g')\n    .attr('transform', `translate(${margin.left}, ${margin.top})`);\n\n  // Creazione della scala X\n  const x = d3.scaleLinear()\n    .domain([0, d3.max(data, d => +d.hourlyRate) + 10])\n    .range([0, width]);\n\n  // Creazione della scala Y\n  const y = d3.scaleLinear()\n    .domain([0, d3.max(data, d => +d.counts) + 5])\n    .range([height, 0]);\n\n  // Creazione dell'asse X\n  const xAxis = d3.axisBottom(x).tickValues(d3.range(0, d3.max(data, d => +d.hourlyRate) + 11, 10));\n  svg.append('g')\n    .attr('transform', `translate(0, ${height})`)\n    .call(xAxis);\n\n  // Creazione dell'asse Y\n  const yAxis = d3.axisLeft(y).tickValues(d3.range(0, d3.max(data, d => +d.counts) + 6, 5));\n  svg.append('g')\n    .call(yAxis);\n\n  // Aggiunta dei punti\n  svg.selectAll('circle')\n    .data(data)\n    .enter()\n    .append('circle')\n    .attr('cx', d => x(+d.hourlyRate))\n    .attr('cy', d => y(+d.counts))\n    .attr('r', 5)\n    .style('fill', 'gray')\n    .style('stroke', 'darkgray')\n    .on('mouseover', function (event, d) {\n      // Evidenzia il pallino\n      d3.select(this).style('fill', 'red');\n\n      // Mostra il tooltip con le informazioni del punto\n      const tooltip = d3.select(tooltipElement);\n      tooltip.transition().duration(200).style('opacity', 1);\n\n      const svgRect = svgElement.getBoundingClientRect();\n      const containerRect = tooltipElement.getBoundingClientRect();\n      const xPosition = event.clientX - svgRect.left - containerRect.width / 2 + window.pageXOffset;\n      const yPosition = event.clientY - svgRect.top - containerRect.height - 10 + window.pageYOffset;\n      \n\n      tooltip.html(`Job ID: ${d.jobId}<br>Turnover: ${d.counts}<br>Hourly wage: ${d.hourlyRate}`)\n        .style('left', `${xPosition}px`)\n        .style('top', `${yPosition}px`);\n\n      // Aggiungi le linee tratteggiate\n      svg.append('line')\n        .attr('x1', x(+d.hourlyRate))\n        .attr('y1', height)\n        .attr('x2', x(+d.hourlyRate))\n        .attr('y2', y(+d.counts))\n        .style('stroke', 'black')\n        .style('stroke-dasharray', '2,2');\n\n      svg.append('line')\n        .attr('x1', 0)\n        .attr('y1', y(+d.counts))\n        .attr('x2', x(+d.hourlyRate))\n        .attr('y2', y(+d.counts))\n        .style('stroke', 'gray')\n        .style('stroke-dasharray', '2,2');\n    })\n    .on('mouseout', function () {\n      // Ripristina il colore grigio per il pallino\n      d3.select(this).style('fill', 'gray');\n\n      // Nascondi il tooltip\n      const tooltip = d3.select(tooltipElement);\n      tooltip.transition().duration(500).style('opacity', 0);\n\n      // Rimuovi le linee tratteggiate\n      svg.selectAll('line').remove();\n    });\n    \n  // Aggiungi lo stile al tooltip\n  const tooltipStyle = `\n    .tooltipTurnover {\n      position: absolute;\n      background-color: white;\n      border: 1px solid #ddd;\n      border-radius: 4px;\n      padding: 6px;\n      opacity: 0;\n      pointer-events: none;\n      z-index: 9999;\n    }\n    \n    .tooltipTurnover::before {\n      content: '';\n      position: absolute;\n      width: 10px;\n      height: 10px;\n      border-left: 6px solid transparent;\n      border-right: 6px solid transparent;\n      border-bottom: 6px solid #ddd;\n      top: -6px;\n      left: 50%;\n      transform: translateX(-50%);\n    }\n  `;\n  \n  const style = document.createElement('style');\n  style.innerHTML = tooltipStyle;\n  document.head.appendChild(style);\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}