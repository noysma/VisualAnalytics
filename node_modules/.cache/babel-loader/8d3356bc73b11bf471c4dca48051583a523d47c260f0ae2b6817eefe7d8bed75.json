{"ast":null,"code":"import * as d3 from 'd3';\nexport function drawFinancialHealth(data) {\n  var width = 500;\n  var height = 300;\n  var margin = 50;\n  var duration = 250;\n  var lineOpacity = \"0.25\";\n  var lineOpacityHover = \"0.85\";\n  var otherLinesOpacityHover = \"0.1\";\n  var lineStroke = \"1.5px\";\n  var lineStrokeHover = \"2.5px\";\n  var circleOpacity = '0.85';\n  var circleOpacityOnLineHover = \"0.25\";\n  var circleRadius = 3;\n  var circleRadiusHover = 6;\n\n  /* Add SVG */\n  var svg = d3.select(\"#chart\").append(\"svg\").attr(\"width\", width + margin + \"px\").attr(\"height\", height + margin + \"px\").append('g').attr(\"transform\", \"translate(\" + margin + \",\" + margin + \")\");\n\n  /* Format Data */\n  var parseDate = d3.timeParse(\"%Y-%m\");\n  data.forEach(function (d) {\n    d.monthYear = parseDate(d.monthYear);\n    d.availableBalance = +d.availableBalance;\n  });\n\n  /* Scale */\n  var xScale = d3.scaleTime().domain(d3.extent(data, d => d.monthYear)).range([0, width - margin]);\n  var yScale = d3.scaleLinear().domain([0, d3.max(data, d => d.availableBalance)]).range([height - margin, 0]);\n  var color = d3.scaleOrdinal(d3.schemeCategory10);\n\n  /* Add line into SVG */\n  var line = d3.line().x(d => xScale(d.monthYear)).y(d => yScale(d.availableBalance));\n  let lines = svg.append('g').attr('class', 'lines');\n  lines.selectAll('.line-group').data(data).enter().append('g').attr('class', 'line-group').on(\"mouseover\", function (d, i) {\n    svg.append(\"text\").attr(\"class\", \"title-text\").style(\"fill\", color(i)).text(d.educationLevel).attr(\"text-anchor\", \"middle\").attr(\"x\", (width - margin) / 2).attr(\"y\", 5);\n  }).on(\"mouseout\", function () {\n    svg.select(\".title-text\").remove();\n  }).append('path').attr('class', 'line').attr('d', line).style('stroke', (d, i) => color(i)).style('opacity', lineOpacity).on(\"mouseover\", function () {\n    d3.selectAll('.line').style('opacity', otherLinesOpacityHover);\n    d3.selectAll('.circle').style('opacity', circleOpacityOnLineHover);\n    d3.select(this).style('opacity', lineOpacityHover).style(\"stroke-width\", lineStrokeHover).style(\"cursor\", \"pointer\");\n  }).on(\"mouseout\", function () {\n    d3.selectAll(\".line\").style('opacity', lineOpacity);\n    d3.selectAll('.circle').style('opacity', circleOpacity);\n    d3.select(this).style(\"stroke-width\", lineStroke).style(\"cursor\", \"none\");\n  });\n\n  /* Add circles in the line */\n  lines.selectAll(\"circle-group\").data(data).enter().append(\"g\").style(\"fill\", (d, i) => color(i)).selectAll(\"circle\").data(d => d.values).enter().append(\"g\").attr(\"class\", \"circle\").on(\"mouseover\", function (d) {\n    d3.select(this).style(\"cursor\", \"pointer\").append(\"text\").attr(\"class\", \"text\").text(`${d.availableBalance}`).attr(\"x\", d => xScale(d.monthYear) + 5).attr(\"y\", d => yScale(d.availableBalance) - 10);\n  }).on(\"mouseout\", function () {\n    d3.select(this).style(\"cursor\", \"none\").transition().duration(duration).selectAll(\".text\").remove();\n  }).append(\"circle\").attr(\"cx\", d => xScale(d.monthYear)).attr(\"cy\", d => yScale(d.availableBalance)).attr(\"r\", circleRadius).style('opacity', circleOpacity).on(\"mouseover\", function () {\n    d3.select(this).transition().duration(duration).attr(\"r\", circleRadiusHover);\n  }).on(\"mouseout\", function () {\n    d3.select(this).transition().duration(duration).attr(\"r\", circleRadius);\n  });\n\n  /* Add Axis into SVG */\n  var xAxis = d3.axisBottom(xScale).ticks(5);\n  var yAxis = d3.axisLeft(yScale).ticks(5);\n  svg.append(\"g\").attr(\"class\", \"x axis\").attr(\"transform\", \"translate(0,\" + (height - margin) + \")\").call(xAxis);\n  svg.append(\"g\").attr(\"class\", \"y axis\").call(yAxis).append('text').attr(\"y\", 15).attr(\"transform\", \"rotate(-90)\").attr(\"fill\", \"#000\").text(\"Total values\");\n}","map":{"version":3,"names":["d3","drawFinancialHealth","data","width","height","margin","duration","lineOpacity","lineOpacityHover","otherLinesOpacityHover","lineStroke","lineStrokeHover","circleOpacity","circleOpacityOnLineHover","circleRadius","circleRadiusHover","svg","select","append","attr","parseDate","timeParse","forEach","d","monthYear","availableBalance","xScale","scaleTime","domain","extent","range","yScale","scaleLinear","max","color","scaleOrdinal","schemeCategory10","line","x","y","lines","selectAll","enter","on","i","style","text","educationLevel","remove","values","transition","xAxis","axisBottom","ticks","yAxis","axisLeft","call"],"sources":["/Users/camillachiruzzi/vastprof/VAST2022Vue/src/assets/FinancialHealth.js"],"sourcesContent":["import * as d3 from 'd3';\n\nexport function drawFinancialHealth(data) {\n  var width = 500;\n  var height = 300;\n  var margin = 50;\n  var duration = 250;\n\n  var lineOpacity = \"0.25\";\n  var lineOpacityHover = \"0.85\";\n  var otherLinesOpacityHover = \"0.1\";\n  var lineStroke = \"1.5px\";\n  var lineStrokeHover = \"2.5px\";\n\n  var circleOpacity = '0.85';\n  var circleOpacityOnLineHover = \"0.25\"\n  var circleRadius = 3;\n  var circleRadiusHover = 6;\n\n  /* Add SVG */\n  var svg = d3.select(\"#chart\").append(\"svg\")\n    .attr(\"width\", (width + margin) + \"px\")\n    .attr(\"height\", (height + margin) + \"px\")\n    .append('g')\n    .attr(\"transform\", \"translate(\" + margin + \",\" + margin + \")\");\n\n  /* Format Data */\n  var parseDate = d3.timeParse(\"%Y-%m\");\n  data.forEach(function(d) {\n    d.monthYear = parseDate(d.monthYear);\n    d.availableBalance = +d.availableBalance;\n  });\n\n  /* Scale */\n  var xScale = d3.scaleTime()\n    .domain(d3.extent(data, d => d.monthYear))\n    .range([0, width - margin]);\n\n  var yScale = d3.scaleLinear()\n    .domain([0, d3.max(data, d => d.availableBalance)])\n    .range([height - margin, 0]);\n\n  var color = d3.scaleOrdinal(d3.schemeCategory10);\n\n  /* Add line into SVG */\n  var line = d3.line()\n    .x(d => xScale(d.monthYear))\n    .y(d => yScale(d.availableBalance));\n\n  let lines = svg.append('g')\n    .attr('class', 'lines');\n\n  lines.selectAll('.line-group')\n    .data(data).enter()\n    .append('g')\n    .attr('class', 'line-group')\n    .on(\"mouseover\", function(d, i) {\n      svg.append(\"text\")\n        .attr(\"class\", \"title-text\")\n        .style(\"fill\", color(i))\n        .text(d.educationLevel)\n        .attr(\"text-anchor\", \"middle\")\n        .attr(\"x\", (width - margin) / 2)\n        .attr(\"y\", 5);\n    })\n    .on(\"mouseout\", function() {\n      svg.select(\".title-text\").remove();\n    })\n    .append('path')\n    .attr('class', 'line')\n    .attr('d', line)\n    .style('stroke', (d, i) => color(i))\n    .style('opacity', lineOpacity)\n    .on(\"mouseover\", function() {\n      d3.selectAll('.line')\n        .style('opacity', otherLinesOpacityHover);\n      d3.selectAll('.circle')\n        .style('opacity', circleOpacityOnLineHover);\n      d3.select(this)\n        .style('opacity', lineOpacityHover)\n        .style(\"stroke-width\", lineStrokeHover)\n        .style(\"cursor\", \"pointer\");\n    })\n    .on(\"mouseout\", function() {\n      d3.selectAll(\".line\")\n        .style('opacity', lineOpacity);\n      d3.selectAll('.circle')\n        .style('opacity', circleOpacity);\n      d3.select(this)\n        .style(\"stroke-width\", lineStroke)\n        .style(\"cursor\", \"none\");\n    });\n\n  /* Add circles in the line */\n  lines.selectAll(\"circle-group\")\n    .data(data).enter()\n    .append(\"g\")\n    .style(\"fill\", (d, i) => color(i))\n    .selectAll(\"circle\")\n    .data(d => d.values).enter()\n    .append(\"g\")\n    .attr(\"class\", \"circle\")\n    .on(\"mouseover\", function(d) {\n      d3.select(this)\n        .style(\"cursor\", \"pointer\")\n        .append(\"text\")\n        .attr(\"class\", \"text\")\n        .text(`${d.availableBalance}`)\n        .attr(\"x\", d => xScale(d.monthYear) + 5)\n        .attr(\"y\", d => yScale(d.availableBalance) - 10);\n    })\n    .on(\"mouseout\", function() {\n      d3.select(this)\n        .style(\"cursor\", \"none\")\n        .transition()\n        .duration(duration)\n        .selectAll(\".text\").remove();\n    })\n    .append(\"circle\")\n    .attr(\"cx\", d => xScale(d.monthYear))\n    .attr(\"cy\", d => yScale(d.availableBalance))\n    .attr(\"r\", circleRadius)\n    .style('opacity', circleOpacity)\n    .on(\"mouseover\", function() {\n      d3.select(this)\n        .transition()\n        .duration(duration)\n        .attr(\"r\", circleRadiusHover);\n    })\n    .on(\"mouseout\", function() {\n      d3.select(this)\n        .transition()\n        .duration(duration)\n        .attr(\"r\", circleRadius);\n    });\n\n  /* Add Axis into SVG */\n  var xAxis = d3.axisBottom(xScale).ticks(5);\n  var yAxis = d3.axisLeft(yScale).ticks(5);\n\n  svg.append(\"g\")\n    .attr(\"class\", \"x axis\")\n    .attr(\"transform\", \"translate(0,\" + (height - margin) + \")\")\n    .call(xAxis);\n\n  svg.append(\"g\")\n    .attr(\"class\", \"y axis\")\n    .call(yAxis)\n    .append('text')\n    .attr(\"y\", 15)\n    .attr(\"transform\", \"rotate(-90)\")\n    .attr(\"fill\", \"#000\")\n    .text(\"Total values\");\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}