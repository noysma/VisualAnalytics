{"ast":null,"code":"import * as d3 from \"d3\";\nexport function drawFinancialHealth(data) {\n  var width = 500;\n  var height = 300;\n  var margin = 50;\n  var duration = 250;\n  var lineOpacity = \"0.25\";\n  var lineOpacityHover = \"0.85\";\n  var otherLinesOpacityHover = \"0.1\";\n  var lineStroke = \"1.5px\";\n  var lineStrokeHover = \"2.5px\";\n  var circleOpacity = '0.85';\n  var circleOpacityOnLineHover = \"0.25\";\n  var circleRadius = 3;\n  var circleRadiusHover = 6;\n\n  /* Format Data */\n  var parseDate = d3.timeParse(\"%Y\");\n  data.forEach(function (d) {\n    d.values.forEach(function (d) {\n      d.monthYear = parseDate(d.monthYear);\n      d.availableBalance = +d.availableBalance;\n    });\n  });\n\n  /* Scale */\n  var xScale = d3.scaleTime().domain(d3.extent(data[0].values, d => d.monthYear)).range([0, width - margin]);\n  var yScale = d3.scaleLinear().domain([0, d3.max(data[0].values, d => d.availableBalance)]).range([height - margin, 0]);\n  var color = d3.scaleOrdinal(d3.schemeCategory10);\n\n  /* Add SVG */\n  var svg = d3.select(\"#chart\").append(\"svg\").attr(\"width\", width + margin + \"px\").attr(\"height\", height + margin + \"px\").append('g').attr(\"transform\", `translate(${margin}, ${margin})`);\n\n  /* Add line into SVG */\n  var line = d3.line().x(d => xScale(d.monthYear)).y(d => yScale(d.availableBalance));\n  let lines = svg.append('g').attr('class', 'lines');\n  lines.selectAll('.line-group').data(data).enter().append('g').attr('class', 'line-group').on(\"mouseover\", function (d, i) {\n    svg.append(\"text\").attr(\"class\", \"title-text\").style(\"fill\", color(i)).text(d.educationLevel).attr(\"text-anchor\", \"middle\").attr(\"x\", (width - margin) / 2).attr(\"y\", 5);\n  }).on(\"mouseout\", function () {\n    svg.select(\".title-text\").remove();\n  }).append('path').attr('class', 'line').attr('d', d => line(d.values)).style('stroke', i => color(i)).style('opacity', lineOpacity).on(\"mouseover\", function () {\n    d3.selectAll('.line').style('opacity', otherLinesOpacityHover);\n    d3.selectAll('.circle').style('opacity', circleOpacityOnLineHover);\n    d3.select(this).style('opacity', lineOpacityHover).style(\"stroke-width\", lineStrokeHover).style(\"cursor\", \"pointer\");\n  }).on(\"mouseout\", function () {\n    d3.selectAll(\".line\").style('opacity', lineOpacity);\n    d3.selectAll('.circle').style('opacity', circleOpacity);\n    d3.select(this).style(\"stroke-width\", lineStroke).style(\"cursor\", \"none\");\n  });\n\n  /* Add circles in the line */\n  lines.selectAll(\"circle-group\").data(data).enter().append(\"g\").style(\"fill\", (d, i) => color(i)).selectAll(\"circle\").data(d => d.values).enter().append(\"g\").attr(\"class\", \"circle\").on(\"mouseover\", function (d) {\n    d3.select(this).style(\"cursor\", \"pointer\").append(\"text\").attr(\"class\", \"text\").text(`${d.availableBalance}`).attr(\"x\", d => xScale(d.monthYear) + 5).attr(\"y\", d => yScale(d.availableBalance) - 10);\n  }).on(\"mouseout\", function () {\n    d3.select(this).style(\"cursor\", \"none\").transition().duration(duration).selectAll(\".text\").remove();\n  }).append(\"circle\").attr(\"cx\", d => xScale(d.monthYear)).attr(\"cy\", d => yScale(d.availableBalance)).attr(\"r\", circleRadius).style('opacity', circleOpacity).on(\"mouseover\", function () {\n    d3.select(this).transition().duration(duration).attr(\"r\", circleRadiusHover);\n  }).on(\"mouseout\", function () {\n    d3.select(this).transition().duration(duration).attr(\"r\", circleRadius);\n  });\n\n  /* Add Axis into SVG */\n  var xAxis = d3.axisBottom(xScale).ticks(5);\n  var yAxis = d3.axisLeft(yScale).ticks(5);\n  svg.append(\"g\").attr(\"class\", \"x axis\").attr(\"transform\", `translate(0, ${height - margin})`).call(xAxis);\n  svg.append(\"g\").attr(\"class\", \"y axis\").call(yAxis).append('text').attr(\"y\", 15).attr(\"transform\", \"rotate(-90)\").attr(\"fill\", \"#000\").text(\"Total values\");\n}","map":{"version":3,"names":["d3","drawFinancialHealth","data","width","height","margin","duration","lineOpacity","lineOpacityHover","otherLinesOpacityHover","lineStroke","lineStrokeHover","circleOpacity","circleOpacityOnLineHover","circleRadius","circleRadiusHover","parseDate","timeParse","forEach","d","values","monthYear","availableBalance","xScale","scaleTime","domain","extent","range","yScale","scaleLinear","max","color","scaleOrdinal","schemeCategory10","svg","select","append","attr","line","x","y","lines","selectAll","enter","on","i","style","text","educationLevel","remove","transition","xAxis","axisBottom","ticks","yAxis","axisLeft","call"],"sources":["/Users/camillachiruzzi/vastprof/VAST2022Vue/src/assets/FinancialHealth.js"],"sourcesContent":["  import * as d3 from \"d3\";\n  export function drawFinancialHealth(data) {\n  \n  var width = 500;\n  var height = 300;\n  var margin = 50;\n  var duration = 250;\n  \n  var lineOpacity = \"0.25\";\n  var lineOpacityHover = \"0.85\";\n  var otherLinesOpacityHover = \"0.1\";\n  var lineStroke = \"1.5px\";\n  var lineStrokeHover = \"2.5px\";\n  \n  var circleOpacity = '0.85';\n  var circleOpacityOnLineHover = \"0.25\"\n  var circleRadius = 3;\n  var circleRadiusHover = 6;\n  \n  \n  /* Format Data */\n  var parseDate = d3.timeParse(\"%Y\");\n  data.forEach(function(d) { \n    d.values.forEach(function(d) {\n      d.monthYear = parseDate(d.monthYear);\n      d.availableBalance = +d.availableBalance;    \n    });\n  });\n  \n  \n  /* Scale */\n  var xScale = d3.scaleTime()\n    .domain(d3.extent(data[0].values, d => d.monthYear))\n    .range([0, width-margin]);\n  \n  var yScale = d3.scaleLinear()\n    .domain([0, d3.max(data[0].values, d => d.availableBalance)])\n    .range([height-margin, 0]);\n  \n  var color = d3.scaleOrdinal(d3.schemeCategory10);\n  \n  /* Add SVG */\n  var svg = d3.select(\"#chart\").append(\"svg\")\n    .attr(\"width\", (width+margin)+\"px\")\n    .attr(\"height\", (height+margin)+\"px\")\n    .append('g')\n    .attr(\"transform\", `translate(${margin}, ${margin})`);\n  \n  \n  /* Add line into SVG */\n  var line = d3.line()\n    .x(d => xScale(d.monthYear))\n    .y(d => yScale(d.availableBalance));\n  \n  let lines = svg.append('g')\n    .attr('class', 'lines');\n  \n  lines.selectAll('.line-group')\n    .data(data).enter()\n    .append('g')\n    .attr('class', 'line-group')  \n    .on(\"mouseover\", function(d, i) {\n        svg.append(\"text\")\n          .attr(\"class\", \"title-text\")\n          .style(\"fill\", color(i))        \n          .text(d.educationLevel)\n          .attr(\"text-anchor\", \"middle\")\n          .attr(\"x\", (width-margin)/2)\n          .attr(\"y\", 5);\n      })\n    .on(\"mouseout\", function() {\n        svg.select(\".title-text\").remove();\n      })\n    .append('path')\n    .attr('class', 'line')  \n    .attr('d', d => line(d.values))\n    .style('stroke', (i) => color(i))\n    .style('opacity', lineOpacity)\n    .on(\"mouseover\", function() {\n        d3.selectAll('.line')\n                      .style('opacity', otherLinesOpacityHover);\n        d3.selectAll('.circle')\n                      .style('opacity', circleOpacityOnLineHover);\n        d3.select(this)\n          .style('opacity', lineOpacityHover)\n          .style(\"stroke-width\", lineStrokeHover)\n          .style(\"cursor\", \"pointer\");\n      })\n    .on(\"mouseout\", function() {\n        d3.selectAll(\".line\")\n                      .style('opacity', lineOpacity);\n        d3.selectAll('.circle')\n                      .style('opacity', circleOpacity);\n        d3.select(this)\n          .style(\"stroke-width\", lineStroke)\n          .style(\"cursor\", \"none\");\n      });\n  \n  \n  /* Add circles in the line */\n  lines.selectAll(\"circle-group\")\n    .data(data).enter()\n    .append(\"g\")\n    .style(\"fill\", (d, i) => color(i))\n    .selectAll(\"circle\")\n    .data(d => d.values).enter()\n    .append(\"g\")\n    .attr(\"class\", \"circle\")  \n    .on(\"mouseover\", function(d) {\n        d3.select(this)     \n          .style(\"cursor\", \"pointer\")\n          .append(\"text\")\n          .attr(\"class\", \"text\")\n          .text(`${d.availableBalance}`)\n          .attr(\"x\", d => xScale(d.monthYear) + 5)\n          .attr(\"y\", d => yScale(d.availableBalance) - 10);\n      })\n    .on(\"mouseout\", function() {\n        d3.select(this)\n          .style(\"cursor\", \"none\")  \n          .transition()\n          .duration(duration)\n          .selectAll(\".text\").remove();\n      })\n    .append(\"circle\")\n    .attr(\"cx\", d => xScale(d.monthYear))\n    .attr(\"cy\", d => yScale(d.availableBalance))\n    .attr(\"r\", circleRadius)\n    .style('opacity', circleOpacity)\n    .on(\"mouseover\", function() {\n          d3.select(this)\n            .transition()\n            .duration(duration)\n            .attr(\"r\", circleRadiusHover);\n        })\n      .on(\"mouseout\", function() {\n          d3.select(this) \n            .transition()\n            .duration(duration)\n            .attr(\"r\", circleRadius);  \n        });\n  \n  \n  /* Add Axis into SVG */\n  var xAxis = d3.axisBottom(xScale).ticks(5);\n  var yAxis = d3.axisLeft(yScale).ticks(5);\n  \n  svg.append(\"g\")\n    .attr(\"class\", \"x axis\")\n    .attr(\"transform\", `translate(0, ${height-margin})`)\n    .call(xAxis);\n  \n  svg.append(\"g\")\n    .attr(\"class\", \"y axis\")\n    .call(yAxis)\n    .append('text')\n    .attr(\"y\", 15)\n    .attr(\"transform\", \"rotate(-90)\")\n    .attr(\"fill\", \"#000\")\n    .text(\"Total values\");\n\n    }\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}