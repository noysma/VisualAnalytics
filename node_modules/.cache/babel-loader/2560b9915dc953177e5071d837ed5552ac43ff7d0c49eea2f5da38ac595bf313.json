{"ast":null,"code":"import * as d3 from \"d3\";\nexport function createFinancialHealth(data) {\n  const educationLevels = [...new Set(data.map(entry => entry.educationLevel))];\n  const monthYears = [...new Set(data.map(entry => entry.monthYear))];\n  const margin = {\n    top: 20,\n    right: 20,\n    bottom: 30,\n    left: 50\n  };\n  const width = 700 - margin.left - margin.right;\n  const height = 400 - margin.top - margin.bottom;\n\n  // Rimuovi le virgole dal valore dell'asse Y\n  const cleanedData = data.map(entry => ({\n    ...entry,\n    availableBalance: +entry.availableBalance.replace(/,/g, \"\")\n  }));\n  const svg = d3.select(\"#lineChart\").append(\"svg\").attr(\"width\", width + margin.left + margin.right).attr(\"height\", height + margin.top + margin.bottom).append(\"g\").attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\");\n  const x = d3.scalePoint().domain(monthYears).range([0, width]);\n  const y = d3.scaleLinear().domain([0, d3.max(cleanedData, d => d.availableBalance)]).range([height, 0]);\n  const color = d3.scaleOrdinal().domain(educationLevels).range(d3.schemeCategory10);\n  const line = d3.line().x(d => x(d.monthYear)).y(d => y(d.availableBalance));\n  const tooltip = d3.select(\"#lineChart\").append(\"div\").attr(\"class\", \"tooltip\").style(\"opacity\", 0);\n  educationLevels.forEach(level => {\n    const filteredData = cleanedData.filter(entry => entry.educationLevel === level);\n    svg.append(\"path\").datum(filteredData).attr(\"fill\", \"none\").attr(\"stroke\", color(level)).attr(\"stroke-width\", 1.5).attr(\"d\", line);\n    const dots = svg.selectAll(\".dot\").data(filteredData, (d, i) => level + \"-\" + i).enter().append(\"circle\").attr(\"class\", \"dot-\" + level).attr(\"cx\", d => x(d.monthYear)).attr(\"cy\", d => y(d.availableBalance)).attr(\"r\", 4).attr(\"fill\", color(level)).on(\"mouseover\", function (event, d) {\n      const tooltipWidth = parseFloat(tooltip.style(\"width\")); // Larghezza del tooltip\n      const tooltipHeight = parseFloat(tooltip.style(\"height\")); // Altezza del tooltip\n      const xPosition = x(d.monthYear) + margin.left - tooltipWidth / 2; // Posiziona il tooltip al centro del punto x\n      const yPosition = event.pageY - tooltipHeight - 100; // Posiziona il tooltip sopra il mouse sull'asse y\n\n      tooltip.transition().duration(500).style(\"opacity\", 0.9).style(\"left\", xPosition + \"px\").style(\"top\", yPosition + \"px\");\n      tooltip.html(\"Available Balance: \" + d3.format(\",.2f\")(d.availableBalance));\n\n      // Aumenta il raggio del punto corrispondente\n      d3.select(this).transition().duration(200).attr(\"r\", 8);\n    }).on(\"mouseout\", function () {\n      tooltip.transition().duration(500).style(\"opacity\", 0);\n\n      // Ripristina il raggio del punto corrispondente\n      d3.select(this).transition().duration(200).attr(\"r\", 4);\n    });\n    svg.append(\"g\").attr(\"transform\", \"translate(0,\" + height + \")\").call(d3.axisBottom(x));\n    svg.append(\"g\").call(d3.axisLeft(y));\n  });\n}","map":{"version":3,"names":["d3","createFinancialHealth","data","educationLevels","Set","map","entry","educationLevel","monthYears","monthYear","margin","top","right","bottom","left","width","height","cleanedData","availableBalance","replace","svg","select","append","attr","x","scalePoint","domain","range","y","scaleLinear","max","d","color","scaleOrdinal","schemeCategory10","line","tooltip","style","forEach","level","filteredData","filter","datum","dots","selectAll","i","enter","on","event","tooltipWidth","parseFloat","tooltipHeight","xPosition","yPosition","pageY","transition","duration","html","format","call","axisBottom","axisLeft"],"sources":["/Users/camillachiruzzi/vastprof/VAST2022Vue/src/assets/FinancialHealth.js"],"sourcesContent":["import * as d3 from \"d3\";\n\nexport function createFinancialHealth(data) {\n  const educationLevels = [...new Set(data.map(entry => entry.educationLevel))];\n  const monthYears = [...new Set(data.map(entry => entry.monthYear))];\n\n  const margin = { top: 20, right: 20, bottom: 30, left: 50 };\n  const width = 700 - margin.left - margin.right;\n  const height = 400 - margin.top - margin.bottom;\n\n  // Rimuovi le virgole dal valore dell'asse Y\n  const cleanedData = data.map(entry => ({\n    ...entry,\n    availableBalance: +entry.availableBalance.replace(/,/g, \"\")\n  }));\n\n  const svg = d3.select(\"#lineChart\")\n    .append(\"svg\")\n    .attr(\"width\", width + margin.left + margin.right)\n    .attr(\"height\", height + margin.top + margin.bottom)\n    .append(\"g\")\n    .attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\");\n\n  const x = d3.scalePoint()\n    .domain(monthYears)\n    .range([0, width]);\n\n  const y = d3.scaleLinear()\n    .domain([0, d3.max(cleanedData, d => d.availableBalance)])\n    .range([height, 0]);\n\n  const color = d3.scaleOrdinal()\n    .domain(educationLevels)\n    .range(d3.schemeCategory10);\n\n  const line = d3.line()\n    .x(d => x(d.monthYear))\n    .y(d => y(d.availableBalance));\n\n  const tooltip = d3.select(\"#lineChart\").append(\"div\")\n    .attr(\"class\", \"tooltip\")\n    .style(\"opacity\", 0);\n\n  educationLevels.forEach(level => {\n    const filteredData = cleanedData.filter(entry => entry.educationLevel === level);\n\n    svg.append(\"path\")\n      .datum(filteredData)\n      .attr(\"fill\", \"none\")\n      .attr(\"stroke\", color(level))\n      .attr(\"stroke-width\", 1.5)\n      .attr(\"d\", line);\n\n    const dots = svg.selectAll(\".dot\")\n      .data(filteredData, (d, i) => level + \"-\" + i)\n      .enter()\n      .append(\"circle\")\n      .attr(\"class\", \"dot-\" + level)\n      .attr(\"cx\", d => x(d.monthYear))\n      .attr(\"cy\", d => y(d.availableBalance))\n      .attr(\"r\", 4)\n      .attr(\"fill\", color(level))\n      .on(\"mouseover\", function(event, d) {\n        const tooltipWidth = parseFloat(tooltip.style(\"width\")); // Larghezza del tooltip\n        const tooltipHeight = parseFloat(tooltip.style(\"height\")); // Altezza del tooltip\n        const xPosition = x(d.monthYear) + margin.left - tooltipWidth / 2; // Posiziona il tooltip al centro del punto x\n        const yPosition = event.pageY - tooltipHeight - 100; // Posiziona il tooltip sopra il mouse sull'asse y\n\n        tooltip.transition()\n          .duration(500)\n          .style(\"opacity\", 0.9)\n          .style(\"left\", xPosition + \"px\")\n          .style(\"top\", yPosition + \"px\");\n\n        tooltip.html(\"Available Balance: \" + d3.format(\",.2f\")(d.availableBalance));\n\n        // Aumenta il raggio del punto corrispondente\n        d3.select(this)\n          .transition()\n          .duration(200)\n          .attr(\"r\", 8);\n      })\n      .on(\"mouseout\", function() {\n        tooltip.transition()\n          .duration(500)\n          .style(\"opacity\", 0);\n\n        // Ripristina il raggio del punto corrispondente\n        d3.select(this)\n          .transition()\n          .duration(200)\n          .attr(\"r\", 4);\n      });\n\n    svg.append(\"g\")\n      .attr(\"transform\", \"translate(0,\" + height + \")\")\n      .call(d3.axisBottom(x));\n\n    svg.append(\"g\")\n      .call(d3.axisLeft(y));\n  });\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}