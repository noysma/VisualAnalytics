{"ast":null,"code":"import * as d3 from 'd3';\nexport function createScatterplot(data) {\n  // set the dimensions and margins of the graph\n  const margin = {\n    top: 10,\n    right: 30,\n    bottom: 30,\n    left: 60\n  };\n  const width = 700 - margin.left - margin.right;\n  const height = 500 - margin.top - margin.bottom;\n\n  // append the svg object to the specified element\n  const svg = d3.select(\"#turnover\").append(\"svg\").attr('width', width + margin.left + margin.right).attr('height', height + margin.top + margin.bottom).append('g').attr('transform', `translate(${margin.left}, ${margin.top})`);\n\n  // Creazione della scala X\n  const x = d3.scaleLinear().domain([0, d3.max(data, d => +d.hourlyRate) + 10]).range([0, width]);\n\n  // Creazione della scala Y\n  const y = d3.scaleLinear().domain([0, d3.max(data, d => +d.counts) + 5]).range([height, 0]);\n\n  // Creazione dell'asse X\n  const xAxis = d3.axisBottom(x).tickValues(d3.range(0, d3.max(data, d => +d.hourlyRate) + 11, 10));\n  svg.append('g').attr('transform', `translate(0, ${height})`).call(xAxis).append(\"text\").attr(\"class\", \"axis-label\").attr(\"x\", width / 2).attr(\"y\", 27).attr(\"fill\", \"#000\").style(\"text-anchor\", \"middle\").text(\"Hourly wage\").style(\"font-size\", \"12px\");\n\n  // Creazione dell'asse Y\n  const yAxis = d3.axisLeft(y).tickValues(d3.range(0, d3.max(data, d => +d.counts) + 6, 5));\n  svg.append('g').call(yAxis).append(\"text\").attr(\"class\", \"axis-label\").attr(\"transform\", \"rotate(-90)\").attr(\"x\", -height / 2).attr(\"y\", -30).attr(\"fill\", \"#000\").style(\"text-anchor\", \"middle\").text(\"Employees leaving the company\").style(\"font-size\", \"12px\");\n\n  // Aggiunta dei punti\n  const circles = svg.selectAll('circle').data(data).enter().append('circle').attr('cx', d => x(+d.hourlyRate)).attr('cy', d => y(+d.counts)).attr('r', 5).style('fill', 'gray').style('stroke', 'darkgray');\n\n  // Mostra il tooltip con le informazioni del punto\n  const tooltip = d3.select(\"#turnover\").append(\"div\").attr(\"class\", \"tooltip\").style(\"opacity\", 0);\n  circles.on('mouseover', function (event, d) {\n    // Evidenzia il pallino\n    d3.select(this).style('fill', 'red');\n\n    // Mostra il tooltip con le informazioni del punto\n\n    const tooltipWidth = parseFloat(tooltip.style(\"width\"));\n    const tooltipHeight = parseFloat(tooltip.style(\"height\"));\n    const xPosition = x(+d.hourlyRate) + margin.left - tooltipWidth / 2;\n    const yPosition = event.pageY - tooltipHeight - 100;\n    tooltip.transition().duration(500).style(\"opacity\", 0.9).style(\"left\", xPosition + \"px\").style(\"top\", yPosition + \"px\");\n    tooltip.html(`Job ID: ${d.jobId}<br>Employees leaving this company: ${d.counts}<br>Hourly wage: ${d.hourlyRate}`);\n\n    // Aggiungi le linee tratteggiate\n    svg.append('line').attr('x1', x(+d.hourlyRate)).attr('y1', height).attr('x2', x(+d.hourlyRate)).attr('y2', y(+d.counts)).style('stroke', 'black').style('stroke-dasharray', '2,2');\n    svg.append('line').attr('x1', 0).attr('y1', y(+d.counts)).attr('x2', x(+d.hourlyRate)).attr('y2', y(+d.counts)).style('stroke', 'black').style('stroke-dasharray', '2,2');\n  });\n  circles.on('mouseout', function () {\n    // Ripristina il colore grigio per il pallino\n    d3.select(this).style('fill', 'gray');\n\n    // Nascondi il tooltip\n    tooltip.transition().duration(200).style('opacity', 0);\n\n    // Rimuovi le linee tratteggiate\n    svg.selectAll('line').remove();\n  });\n}","map":{"version":3,"names":["d3","createScatterplot","data","margin","top","right","bottom","left","width","height","svg","select","append","attr","x","scaleLinear","domain","max","d","hourlyRate","range","y","counts","xAxis","axisBottom","tickValues","call","style","text","yAxis","axisLeft","circles","selectAll","enter","tooltip","on","event","tooltipWidth","parseFloat","tooltipHeight","xPosition","yPosition","pageY","transition","duration","html","jobId","remove"],"sources":["/Users/camillachiruzzi/vastprof/VAST2022Vue/src/assets/Turnover.js"],"sourcesContent":["import * as d3 from 'd3';\n\nexport function createScatterplot(data) {\n  // set the dimensions and margins of the graph\n  const margin = { top: 10, right: 30, bottom: 30, left: 60 };\n  const width = 700 - margin.left - margin.right;\n  const height = 500 - margin.top - margin.bottom;\n\n  // append the svg object to the specified element\n  const svg = d3\n    .select(\"#turnover\")\n    .append(\"svg\")\n    .attr('width', width + margin.left + margin.right)\n    .attr('height', height + margin.top + margin.bottom)\n    .append('g')\n    .attr('transform', `translate(${margin.left}, ${margin.top})`);\n\n  // Creazione della scala X\n  const x = d3.scaleLinear()\n    .domain([0, d3.max(data, d => +d.hourlyRate) + 10])\n    .range([0, width]);\n\n  // Creazione della scala Y\n  const y = d3.scaleLinear()\n    .domain([0, d3.max(data, d => +d.counts) + 5])\n    .range([height, 0]);\n\n  // Creazione dell'asse X\n  const xAxis = d3.axisBottom(x).tickValues(d3.range(0, d3.max(data, d => +d.hourlyRate) + 11, 10));\n  svg.append('g')\n    .attr('transform', `translate(0, ${height})`)\n    .call(xAxis)\n    .append(\"text\")\n    .attr(\"class\", \"axis-label\")\n    .attr(\"x\", width / 2)\n    .attr(\"y\", 27)\n    .attr(\"fill\", \"#000\")\n    .style(\"text-anchor\", \"middle\")\n    .text(\"Hourly wage\")\n    .style(\"font-size\", \"12px\");\n\n  // Creazione dell'asse Y\n  const yAxis = d3.axisLeft(y).tickValues(d3.range(0, d3.max(data, d => +d.counts) + 6, 5));\n  svg.append('g')\n    .call(yAxis)\n    .append(\"text\")\n    .attr(\"class\", \"axis-label\")\n    .attr(\"transform\", \"rotate(-90)\")\n    .attr(\"x\", -height / 2)\n    .attr(\"y\", -30)\n    .attr(\"fill\", \"#000\")\n    .style(\"text-anchor\", \"middle\")\n    .text(\"Employees leaving the company\")\n    .style(\"font-size\", \"12px\");\n    \n\n  // Aggiunta dei punti\n  const circles = svg.selectAll('circle')\n    .data(data)\n    .enter()\n    .append('circle')\n    .attr('cx', d => x(+d.hourlyRate))\n    .attr('cy', d => y(+d.counts))\n    .attr('r', 5)\n    .style('fill', 'gray')\n    .style('stroke', 'darkgray');\n\n  // Mostra il tooltip con le informazioni del punto\n  const tooltip = d3.select(\"#turnover\").append(\"div\")\n  .attr(\"class\", \"tooltip\")\n  .style(\"opacity\", 0);\n\n  circles.on('mouseover', function (event, d) {\n    // Evidenzia il pallino\n    d3.select(this).style('fill', 'red');\n\n    // Mostra il tooltip con le informazioni del punto\n\n    const tooltipWidth = parseFloat(tooltip.style(\"width\"));\n    const tooltipHeight = parseFloat(tooltip.style(\"height\"));\n    const xPosition = x(+d.hourlyRate) + margin.left -tooltipWidth / 2;\n    const yPosition = event.pageY - tooltipHeight - 100;\n\n    tooltip.transition()\n      .duration(500)\n      .style(\"opacity\", 0.9)\n      .style(\"left\", xPosition + \"px\")\n      .style(\"top\", yPosition + \"px\");\n\n    tooltip.html(`Job ID: ${d.jobId}<br>Employees leaving this company: ${d.counts}<br>Hourly wage: ${d.hourlyRate}`);\n\n    // Aggiungi le linee tratteggiate\n    svg.append('line')\n      .attr('x1', x(+d.hourlyRate))\n      .attr('y1', height)\n      .attr('x2', x(+d.hourlyRate))\n      .attr('y2', y(+d.counts))\n      .style('stroke', 'black')\n      .style('stroke-dasharray', '2,2');\n\n    svg.append('line')\n      .attr('x1', 0)\n      .attr('y1', y(+d.counts))\n      .attr('x2', x(+d.hourlyRate))\n      .attr('y2', y(+d.counts))\n      .style('stroke', 'black')\n      .style('stroke-dasharray', '2,2');\n  });\n\n  circles.on('mouseout', function () {\n    // Ripristina il colore grigio per il pallino\n    d3.select(this).style('fill', 'gray');\n\n    // Nascondi il tooltip\n    tooltip.transition()\n      .duration(200)\n      .style('opacity', 0);\n\n    // Rimuovi le linee tratteggiate\n    svg.selectAll('line').remove();\n  });\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}