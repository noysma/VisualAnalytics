{"ast":null,"code":"export default {\n  name: \"App\",\n  components: {},\n  data() {\n    return {\n      cards: [{\n        title: \"Question 1\",\n        description: \"Assuming the volunteers are representative of the city’s population, characterize the distinct areas of the city that you identify. For each area you identify, provide your rationale and supporting data.\"\n      }, {\n        title: \"Question 2\",\n        description: \"Summarize the patterns of life you observed for each area, both in terms of volume and diversity of people and their movement. Did you see evidence of distinct subgroups?\"\n      }, {\n        title: \"Question 3\",\n        description: \"Are there patterns of movement that appear to indicate bottlenecks or obstacles to travel? What changes might you propose to reduce congestion?\"\n      }, {\n        title: \"Question 4\",\n        description: \"Are there hazards, either environmental or social, that you identified? How might these be mitigated?\"\n      }, {\n        title: \"Question 5\",\n        description: \"Are there patterns that change over time? Over seasons? How might your proposed changes from questions 3 and 4 be impacted by time and/or season?\"\n      }],\n      collapsedCards: [],\n      buildings: [],\n      apartments: [],\n      pubs: [],\n      restaurants: [],\n      pubsActive: false,\n      restaurantsActive: false,\n      collapse1: false\n    };\n  },\n  mounted() {\n    // DRAW THE MAP\n    getSingleEndpoint({}, \"Buildings\").then(response => {\n      this.buildings = response.data.map(d => ({\n        type: \"Feature\",\n        geometry: wkx.Geometry.parse(Buffer.from(d.location, \"hex\")).toGeoJSON(),\n        properties: {\n          buildingId: d.buildingId,\n          buildingType: d.buildingType,\n          maxOccupancy: d.maxOccupancy,\n          units: d.units\n        }\n      }));\n      // DRAW APARTMENTS\n      getSingleEndpoint({}, \"Apartments\").then(response => {\n        this.apartments = response.data.map(d => ({\n          type: \"Feature\",\n          geometry: wkx.Geometry.parse(Buffer.from(d.location, \"hex\")).toGeoJSON(),\n          properties: {\n            numberOfRooms: d.numberOfRooms,\n            apartmentId: d.apartmentId,\n            buildingId: d.buildingId,\n            rentalCost: d.rentalCost,\n            maxOccupancy: d.maxOccupancy\n          }\n        }));\n        this.drawApt();\n      });\n      // DRAW PUBS\n      getSingleEndpoint({}, \"Pubs\").then(response => {\n        this.pubs = response.data.map(d => ({\n          type: \"Feature\",\n          geometry: wkx.Geometry.parse(Buffer.from(d.location, \"hex\")).toGeoJSON(),\n          properties: {\n            pubId: d.pubId,\n            hourlyCost: d.hourlyCost,\n            maxOccupancy: d.maxOccupancy,\n            buildingId: d.buildingId\n          }\n        }));\n        this.drawPub();\n      });\n      // DRAW RESTAURANTS\n      getSingleEndpoint({}, \"Restaurants\").then(response => {\n        this.restaurants = response.data.map(d => ({\n          type: \"Feature\",\n          geometry: wkx.Geometry.parse(Buffer.from(d.location, \"hex\")).toGeoJSON(),\n          properties: {\n            restaurantId: d.restaurantId,\n            maxOccupancy: d.maxOccupancy,\n            foodCost: d.foodCost,\n            buildingId: d.buildingId\n          }\n        }));\n        this.drawRestaurants();\n      });\n      this.drawBuildings();\n    });\n  },\n  methods: {\n    drawBuildings() {\n      d3.select(this.$refs.map).select(\"g.buildings\").datum(this.buildings).call(bm);\n      const colorScale = bm.color().domain().concat(\"apartments\");\n      bl.color(d3.scaleOrdinal(d3.schemeCategory10).domain(colorScale));\n      d3.select(this.$refs.map).select(\"g.legend\").call(bl);\n    },\n    drawApt() {\n      d3.select(this.$refs.map).select(\"g.apartments\").datum(this.apartments).call(apt, bm.extent());\n    },\n    drawPub() {\n      d3.select(this.$refs.map).select(\"g.pubs\").datum(this.pubs).call(pub, bm.extent());\n    },\n    drawRestaurants() {\n      d3.select(this.$refs.map).select(\"g.restaurants\").datum(this.restaurants).call(rest, bm.extent());\n    },\n    togglePubs() {\n      this.pubsActive = !this.pubsActive;\n    },\n    toggleRestaurants() {\n      this.restaurantsActive = !this.restaurantsActive;\n    },\n    toggleCollapse1() {\n      this.collapse1 = !this.collapse1;\n    }\n  }\n};","map":{"version":3,"names":["name","components","data","cards","title","description","collapsedCards","buildings","apartments","pubs","restaurants","pubsActive","restaurantsActive","collapse1","mounted","getSingleEndpoint","then","response","map","d","type","geometry","wkx","Geometry","parse","Buffer","from","location","toGeoJSON","properties","buildingId","buildingType","maxOccupancy","units","numberOfRooms","apartmentId","rentalCost","drawApt","pubId","hourlyCost","drawPub","restaurantId","foodCost","drawRestaurants","drawBuildings","methods","d3","select","$refs","datum","call","bm","colorScale","color","domain","concat","bl","scaleOrdinal","schemeCategory10","apt","extent","pub","rest","togglePubs","toggleRestaurants","toggleCollapse1"],"sources":["src/components/Challenge2.vue"],"sourcesContent":["<template>\n  <div id=\"vc2\" class=\"vc2-container\">\n    <div class=\"container\">\n      <h1>Challenge 2: Patterns of Life</h1>\n      <p>\n        Considers the patterns of daily life throughout the city.\n        You will describe the daily routines for some representative people, characterize the travel patterns to identify potential bottlenecks or hazards, and examine how these patterns change over time and seasons.\n      </p>\n      <div class=\"card-container\">\n        <b-card no-body v-for=\"(card, index) in cards\" :key=\"index\">\n          <b-card-header header-tag=\"header\" class=\"p-3\" role=\"tab\" @click=\"toggleCollapse(index)\">\n            <div class=\"d-flex flex-column align-items-center\">\n              <h2 class=\"question-title\">{{ card.title }}</h2>\n              <p class=\"question-description\">{{ card.description }}</p>\n              <span class=\"arrow-icon\" :class=\"{ 'rotate': isCollapsed(index) }\" @click.stop=\"toggleCollapse(index)\">&#x25BE;</span>\n            </div>\n          </b-card-header>\n          <b-collapse :id=\"'collapse' + index\" v-model=\"collapsedCards\" accordion=\"my-accordion\" role=\"tabpanel\">\n            <b-card-body>\n              <p>Ecco un esempio di testo all'interno del box collassabile.</p>\n              <p>Puoi inserire ulteriori contenuti qui.</p>\n            </b-card-body>\n          </b-collapse>\n        </b-card>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"App\",\n  components: {},\n  data() {\n    return {\n      cards: [\n        {\n          title: \"Question 1\",\n          description: \"Assuming the volunteers are representative of the city’s population, characterize the distinct areas of the city that you identify. For each area you identify, provide your rationale and supporting data.\"\n        },\n        {\n          title: \"Question 2\",\n          description: \"Summarize the patterns of life you observed for each area, both in terms of volume and diversity of people and their movement. Did you see evidence of distinct subgroups?\"\n        },\n        {\n          title: \"Question 3\",\n          description: \"Are there patterns of movement that appear to indicate bottlenecks or obstacles to travel? What changes might you propose to reduce congestion?\"\n        },\n        {\n          title: \"Question 4\",\n          description: \"Are there hazards, either environmental or social, that you identified? How might these be mitigated?\"\n        },\n        {\n          title: \"Question 5\",\n          description: \"Are there patterns that change over time? Over seasons? How might your proposed changes from questions 3 and 4 be impacted by time and/or season?\"\n        }\n      ],\n      collapsedCards: [],\n      buildings: [],\n      apartments: [],\n      pubs: [],\n      restaurants: [],\n      pubsActive: false,\n      restaurantsActive: false,\n      collapse1: false,\n    };\n  },\n  mounted() {\n    // DRAW THE MAP\n    getSingleEndpoint({}, \"Buildings\").then((response) => {\n      this.buildings = response.data.map((d) => ({\n        type: \"Feature\",\n        geometry: wkx.Geometry.parse(Buffer.from(d.location, \"hex\")).toGeoJSON(),\n        properties: {\n          buildingId: d.buildingId,\n          buildingType: d.buildingType,\n          maxOccupancy: d.maxOccupancy,\n          units: d.units,\n        },\n      }));\n      // DRAW APARTMENTS\n      getSingleEndpoint({}, \"Apartments\").then((response) => {\n        this.apartments = response.data.map((d) => ({\n          type: \"Feature\",\n          geometry: wkx.Geometry.parse(Buffer.from(d.location, \"hex\")).toGeoJSON(),\n          properties: {\n            numberOfRooms: d.numberOfRooms,\n            apartmentId: d.apartmentId,\n            buildingId: d.buildingId,\n            rentalCost: d.rentalCost,\n            maxOccupancy: d.maxOccupancy,\n          },\n        }));\n        this.drawApt();\n      });\n      // DRAW PUBS\n      getSingleEndpoint({}, \"Pubs\").then((response) => {\n        this.pubs = response.data.map((d) => ({\n          type: \"Feature\",\n          geometry: wkx.Geometry.parse(Buffer.from(d.location, \"hex\")).toGeoJSON(),\n          properties: {\n            pubId: d.pubId,\n            hourlyCost: d.hourlyCost,\n            maxOccupancy: d.maxOccupancy,\n            buildingId: d.buildingId,\n          },\n        }));\n        this.drawPub();\n      });\n      // DRAW RESTAURANTS\n      getSingleEndpoint({}, \"Restaurants\").then((response) => {\n        this.restaurants = response.data.map((d) => ({\n          type: \"Feature\",\n          geometry: wkx.Geometry.parse(Buffer.from(d.location, \"hex\")).toGeoJSON(),\n          properties: {\n            restaurantId: d.restaurantId,\n            maxOccupancy: d.maxOccupancy,\n            foodCost: d.foodCost,\n            buildingId: d.buildingId,\n          },\n        }));\n        this.drawRestaurants();\n      });\n      this.drawBuildings();\n    });\n  },\n  methods: {\n    drawBuildings() {\n      d3.select(this.$refs.map)\n        .select(\"g.buildings\")\n        .datum(this.buildings)\n        .call(bm);\n\n      const colorScale = bm.color().domain().concat(\"apartments\");\n      bl.color(d3.scaleOrdinal(d3.schemeCategory10).domain(colorScale));\n\n      d3.select(this.$refs.map).select(\"g.legend\").call(bl);\n    },\n    drawApt() {\n      d3.select(this.$refs.map)\n        .select(\"g.apartments\")\n        .datum(this.apartments)\n        .call(apt, bm.extent());\n    },\n    drawPub() {\n      d3.select(this.$refs.map)\n        .select(\"g.pubs\")\n        .datum(this.pubs)\n        .call(pub, bm.extent());\n    },\n    drawRestaurants() {\n      d3.select(this.$refs.map)\n        .select(\"g.restaurants\")\n        .datum(this.restaurants)\n        .call(rest, bm.extent());\n    },\n    togglePubs() {\n      this.pubsActive = !this.pubsActive;\n    },\n    toggleRestaurants() {\n      this.restaurantsActive = !this.restaurantsActive;\n    },\n    toggleCollapse1() {\n      this.collapse1 = !this.collapse1;\n    },\n  },\n};\n</script>\n\n<style>\n#vc2 {\n  margin-top: 50px;\n  position: relative;\n}\n\nsvg g.buildings {\n  fill-opacity: 0.3;\n  stroke: grey;\n}\n\n.button-container {\n  position: absolute;\n  top: 10px;\n  right: 30px;\n}\n\n.button-container button {\n  margin-left: 10px;\n  background-color: transparent;\n  border: none;\n  color: white;\n  border-radius: 20px;\n  padding: 10px 20px;\n  transition: background-color 0.3s ease;\n}\n\n.button-container .active {\n  opacity: 1; /* Opacità al 100% */\n}\n\n.button-container .pubsButton {\n  background-color: #0700c5; \n}\n\n.button-container .restButton {\n  background-color: #ff06fa; \n}\n\n.button-container button:not(.active) {\n  opacity: 0.5; /* Opacità al 50% */\n}\n\n.question-title {\n  font-weight: bold;\n  font-size: 18px;\n  margin-right: 10px;\n}\n\n\n.arrow-icon {\n  font-size: 14px;\n  transition: transform 0.3s ease;\n}\n\n.rotate {\n  transform: rotate(180deg);\n}\n\n.collapse-button {\n  background-color: transparent;\n  border: none;\n  color: #007bff;\n  cursor: pointer;\n  padding: 0;\n}\n</style>\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}