{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport * as d3 from 'd3';\nexport default {\n  data() {\n    return {\n      travelData: [],\n      selectedWeek: 0\n    };\n  },\n  computed: {\n    weeks() {\n      const weeks = [];\n      const daysPerWeek = 7;\n      for (let i = 0; i < this.travelData.length; i += daysPerWeek) {\n        weeks.push(this.travelData.slice(i, i + daysPerWeek));\n      }\n      return weeks;\n    }\n  },\n  mounted() {\n    this.loadTravelData();\n  },\n  methods: {\n    async loadTravelData() {\n      try {\n        const response = await d3.csv('travelDuration.csv');\n        this.travelData = response.map(row => ({\n          day: row.day,\n          duration: +row.duration\n        }));\n        this.drawChart();\n      } catch (error) {\n        console.error('Error loading travel data:', error);\n      }\n    },\n    drawChart() {\n      const weekData = this.weeks[this.selectedWeek];\n      d3.select(this.$refs.chart).selectAll('*').remove();\n      const width = 400;\n      const height = 300;\n      const margin = {\n        top: 20,\n        right: 20,\n        bottom: 40,\n        left: 40\n      };\n      const chartWidth = width - margin.left - margin.right;\n      const chartHeight = height - margin.top - margin.bottom;\n      const xScale = d3.scaleBand().domain(weekData.map(d => d.day)).range([0, chartWidth]).padding(0.1);\n      const yScale = d3.scaleLinear().domain([0, d3.max(weekData, d => d.duration / 60)]).range([chartHeight, 0]);\n      const svg = d3.select(this.$refs.chart).append('svg').attr('width', width).attr('height', height);\n      const chart = svg.append('g').attr('transform', `translate(${margin.left}, ${margin.top})`);\n      chart.selectAll('.bar').data(weekData).enter().append('rect').attr('class', 'bar').attr('x', d => xScale(d.day)).attr('y', d => yScale(d.duration / 60)).attr('width', xScale.bandwidth()).attr('height', d => chartHeight - yScale(d.duration / 60));\n      chart.append('g').attr('transform', `translate(0, ${chartHeight})`).call(d3.axisBottom(xScale));\n      chart.append('g').call(d3.axisLeft(yScale));\n      chart.selectAll('.x-label').data(weekData).enter().append('text').attr('class', 'x-label').attr('x', d => xScale(d.day) + xScale.bandwidth() / 2).attr('y', chartHeight + 20).attr('text-anchor', 'middle').text(d => d.day);\n      chart.append('text').attr('class', 'y-label').attr('x', -margin.left).attr('y', -10).attr('text-anchor', 'start').text('Duration (hours)');\n    },\n    formatWeek(weekIndex) {\n      const startDate = new Date(2023, 0, 1 + weekIndex * 7);\n      const endDate = new Date(2023, 0, 7 + weekIndex * 7);\n      const options = {\n        day: 'numeric',\n        month: 'long'\n      };\n      return `${startDate.toLocaleDateString('en-US', options)} - ${endDate.toLocaleDateString('en-US', options)}`;\n    }\n  }\n};","map":{"version":3,"names":["d3","data","travelData","selectedWeek","computed","weeks","daysPerWeek","i","length","push","slice","mounted","loadTravelData","methods","response","csv","map","row","day","duration","drawChart","error","console","weekData","select","$refs","chart","selectAll","remove","width","height","margin","top","right","bottom","left","chartWidth","chartHeight","xScale","scaleBand","domain","d","range","padding","yScale","scaleLinear","max","svg","append","attr","enter","bandwidth","call","axisBottom","axisLeft","text","formatWeek","weekIndex","startDate","Date","endDate","options","month","toLocaleDateString"],"sources":["/Users/camillachiruzzi/vastprof/VAST2022Vue/src/assets/TrafficPlot.js"],"sourcesContent":["import * as d3 from 'd3';\n\nexport default {\n  data() {\n    return {\n      travelData: [],\n      selectedWeek: 0,\n    };\n  },\n  computed: {\n    weeks() {\n      const weeks = [];\n      const daysPerWeek = 7;\n      for (let i = 0; i < this.travelData.length; i += daysPerWeek) {\n        weeks.push(this.travelData.slice(i, i + daysPerWeek));\n      }\n      return weeks;\n    },\n  },\n  mounted() {\n    this.loadTravelData();\n  },\n  methods: {\n    async loadTravelData() {\n      try {\n        const response = await d3.csv('travelDuration.csv');\n        this.travelData = response.map((row) => ({\n          day: row.day,\n          duration: +row.duration,\n        }));\n        this.drawChart();\n      } catch (error) {\n        console.error('Error loading travel data:', error);\n      }\n    },\n    drawChart() {\n      const weekData = this.weeks[this.selectedWeek];\n\n      d3.select(this.$refs.chart).selectAll('*').remove();\n\n      const width = 400;\n      const height = 300;\n      const margin = { top: 20, right: 20, bottom: 40, left: 40 };\n      const chartWidth = width - margin.left - margin.right;\n      const chartHeight = height - margin.top - margin.bottom;\n\n      const xScale = d3\n        .scaleBand()\n        .domain(weekData.map((d) => d.day))\n        .range([0, chartWidth])\n        .padding(0.1);\n\n      const yScale = d3\n        .scaleLinear()\n        .domain([0, d3.max(weekData, (d) => d.duration / 60)])\n        .range([chartHeight, 0]);\n\n      const svg = d3\n        .select(this.$refs.chart)\n        .append('svg')\n        .attr('width', width)\n        .attr('height', height);\n\n      const chart = svg\n        .append('g')\n        .attr('transform', `translate(${margin.left}, ${margin.top})`);\n\n      chart\n        .selectAll('.bar')\n        .data(weekData)\n        .enter()\n        .append('rect')\n        .attr('class', 'bar')\n        .attr('x', (d) => xScale(d.day))\n        .attr('y', (d) => yScale(d.duration / 60))\n        .attr('width', xScale.bandwidth())\n        .attr('height', (d) => chartHeight - yScale(d.duration / 60));\n\n      chart\n        .append('g')\n        .attr('transform', `translate(0, ${chartHeight})`)\n        .call(d3.axisBottom(xScale));\n\n      chart.append('g').call(d3.axisLeft(yScale));\n\n      chart\n        .selectAll('.x-label')\n        .data(weekData)\n        .enter()\n        .append('text')\n        .attr('class', 'x-label')\n        .attr('x', (d) => xScale(d.day) + xScale.bandwidth() / 2)\n        .attr('y', chartHeight + 20)\n        .attr('text-anchor', 'middle')\n        .text((d) => d.day);\n\n      chart\n        .append('text')\n        .attr('class', 'y-label')\n        .attr('x', -margin.left)\n        .attr('y', -10)\n        .attr('text-anchor', 'start')\n        .text('Duration (hours)');\n    },\n    formatWeek(weekIndex) {\n      const startDate = new Date(2023, 0, 1 + weekIndex * 7);\n      const endDate = new Date(2023, 0, 7 + weekIndex * 7);\n      const options = { day: 'numeric', month: 'long' };\n      return `${startDate.toLocaleDateString('en-US', options)} - ${endDate.toLocaleDateString(\n        'en-US',\n        options\n      )}`;\n    },\n  },\n};\n\n\n\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}